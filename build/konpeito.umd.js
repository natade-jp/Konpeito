/*!
 * konpeito
 * https://github.com/natade-jp/konpeito
 * Copyright 2013-2019 natade
 *
 * The MIT license.
 * https://opensource.org/licenses/MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.konpeito=e()}(this,function(){"use strict";var r={parseCSV:function(t,e){arguments.length<2&&(e=","),t=t.replace(/\r\n?|\n/g,"\n");for(var n=e.charCodeAt(0),r=[],i=t.length,o="",a=0,u=0,s=!1,l=!1,h=0;h<i;h++){var c=t.charCodeAt(h);if(34===c&&0===o.length)for(h++;h<i;h++)if(34===(c=t.charCodeAt(h))){if(h+1===i-1)break;if(34!==t.charCodeAt(h+1))break;h++,o+='"'}else o+=t.charAt(h);else{switch(c){case n:s=!0;break;case 13:case 10:l=!0}s?(s=!1,void 0===r[a]&&(r[a]=[]),r[a][u]=o,o="",u+=1):l?(l=!1,""===o&&0===u||(void 0===r[a]&&(r[a]=[]),r[a][u]=o,o="",a+=1,u=0)):o+=t.charAt(h)}h===i-1&&0!==u&&(r[a][u]=o)}return r},makeCSV:function(t,e,n){arguments.length<2&&(e=","),arguments.length<3&&(n="\r\n");var r="",i=/["\r\n,\t]/;if(void 0!==t)for(var o=0;o<t.length;o++){if(void 0!==t[o])for(var a=0;a<t[o].length;a++){var u=t[o][a];i.test(u)&&(u='"'+(u=u.replace(/"/g,'""'))+'"'),r+=u,a!==t[o].length-1&&(r+=e)}r+=n}return r}},o=function t(e){if(this.isHTML="undefined"!=typeof window,this.isNode=!1,1!==arguments.length)throw"IllegalArgumentException";if("string"==typeof e||e instanceof String)this.pathname=e.replace(/\\/g,"/");else{if(!(e instanceof t))throw"IllegalArgumentException";this.pathname=e.getAbsolutePath()}};o.prototype.delete_=function(){throw"IllegalMethod"},o.prototype.exists=function(){throw"IllegalMethod"},o.prototype.copy=function(){throw"IllegalMethod"},o.prototype.move=function(){throw"IllegalMethod"},o.prototype.toString=function(){return this.getAbsolutePath()},o.prototype.getName=function(){if(this.isHTML){if(this.isDirectory())return"";var t=this.pathname.split("/");return t[t.length-1]}if(this.isNode)throw"IllegalMethod"},o.prototype.getParent=function(){var t=this.getAbsolutePath().match(/.*[/\\]/)[0];return t.substring(0,t.length-1)},o.prototype.getParentFile=function(){return new o(this.getParent())},o.prototype.getExtensionName=function(){if(this.isHTML){var t=this.getName().split(".");return t[t.length-1]}if(this.isNode)throw"IllegalMethod"},o.prototype.isAbsolute=function(){if(this.isHTML)return this.getAbsolutePath()===this.pathname;if(this.isNode)throw"IllegalMethod"},o.prototype.isDirectory=function(){if(this.isHTML)return/\/$/.test(this.pathname);if(this.isNode)throw"IllegalMethod"},o.prototype.isFile=function(){if(this.isHTML)return/[^/]$/.test(this.pathname);if(this.isNode)throw"IllegalMethod"},o.prototype.isHidden=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.lastModified=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.setLastModified=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.length=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.getFiles=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.getSubFolders=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.getNormalizedPathName=function(){if(""===this.pathname)return".\\";var t=this.pathname.replace(/\//g,"\\");return"\\"!==t.slice(-1)&&(t+="\\"),t},o.prototype.getAllFiles=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.list=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.getAbsolutePath=function(){if(this.isHTML){var t=null;if(/^http/.test(this.pathname))t=this.pathname;else{var e=window.location.toString();/\/$/.test(e)||(e=e.match(/.*\//)[0]),t=e+this.pathname}var n,r=t.match(/^http[^/]+\/\/[^/]+\//)[0],i=r,o=t.substr(r.length).split("/");for(n=0;n<o.length;n++)""!==o[n]&&"."!==o[n]&&(".."!==o[n]?(i+=o[n],n!==o.length-1&&(i+="/")):i=i.substring(0,i.length-1).match(/.*\//)[0]);return i}if(this.isNode)throw"IllegalMethod"},o.prototype.mkdir=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.mkdirs=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.renameTo=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.run=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.writeLine=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.download=function(t){if(this.isHTML){var e=this.getExtensionName().toLocaleString(),n=this;if("gif"===e||"jpg"===e||"png"===e||"bmp"===e||"svg"===e||"jpeg"===e){var r=new Image;r.onload=function(){n.dataImage=r,t(n)},r.src=this.pathname}else{var i=o.createXMLHttpRequest();if(null===i)return null;i.onreadystatechange=function(){if(4===i.readyState){if(200!==i.status)return console.log("error downloadText "+n.pathname),null;n.dataText=i.responseText,t(n)}},i.open("GET",this.pathname,!0),i.send(null)}}else if(this.isNode)throw"IllegalMethod"},o.prototype.getImage=function(){if(this.isHTML)return this.dataImage},o.prototype.getText=function(){if(this.isHTML)return this.dataText;if(this.isNode)throw"IllegalMethod"},o.prototype.setText=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.getCSV=function(t,e,n){if(this.isHTML)return r.parseCSV(this.dataText,t,n);if(this.isNode)throw"IllegalMethod"},o.prototype.setCSV=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.getByte=function(){if(this.isNode)throw"IllegalMethod"},o.prototype.setByte=function(){if(this.isNode)throw"IllegalMethod"},o.createTempFile=function(){if("undefined"!=typeof window)throw"not createTempFile"},o.getCurrentDirectory=function(){if("undefined"!=typeof window)return new o("./").getParent()},o.setCurrentDirectory=function(){if("undefined"!=typeof window)throw"not setCurrentDirectory"},o.searchFile=function(){if("undefined"!=typeof window)throw"not searchFile"},o.downloadFileList=function(e,n,r){var t,i=0,o=function(t){return function(){i++,r&&r.length&&r[t]&&r[t](e[t]),i===e.length&&n&&n(e)}};for(t=0;t<e.length;t++)e[t].download(o(t))},o.createXMLHttpRequest=function(){return new XMLHttpRequest},o.getCSVTool=function(){return r};var t=function(){},i=t.format=function(t,e){var M=1,E=arguments,N=function(t){if(0<=t)return t;var e=~(t=-t)>>16&65535;return(e*=65536)+(65535&~t)+1};return E[0].replace(/%[^diubBoxXeEfFgGaAcspn%]*[diubBoxXeEfFgGaAcspn%]/g,function(t){var e,n=(e=(t=t.substring(1,t.length)).match(/.$/))[0];if("%"===n)return"%";null!==(e=t.match(/^[0-9]+\$/))&&(e=e[0],t=t.substring(e.length,t.length),e=e.substring(0,e.length-1),M=parseInt(e,10));var r=E[M];M+=1;var i=!1,o=!1,a=!1,u="";null!==(e=t.match(/^[-+ #0]+/))&&(e=e[0],t=t.substring(e.length,t.length),-1!==e.indexOf("#")&&(i=!0),-1!==e.indexOf("-")&&(o=!0),-1!==e.indexOf(" ")&&(u=" "),-1!==e.indexOf("+")&&(u="+"),-1!==e.indexOf("0")&&(a=!0));var s=0;null!==(e=t.match(/^([0-9]+|\*)/))&&(e=e[0],t=t.substring(e.length,t.length),-1!==e.indexOf("*")?(s=r,r=E[M],M+=1):s=parseInt(e,10));var l=!1,h=0;null!==(e=t.match(/^(\.((-?[0-9]+)|\*)|\.)/))&&(e=e[0],t=t.substring(e.length,t.length),l=!0,-1!==e.indexOf("*")?(h=r,r=E[M],M+=1):h=1===e.length?0:(e=e.substring(1,e.length),parseInt(e,10))),null!==(e=t.match(/^hh|h|ll|l|L|z|j|t/))&&(t=t.substring(e.length,t.length));var c="",f=!1;switch(n.toLowerCase()){case"d":case"i":case"u":case"b":case"o":case"x":f=!0;case"e":case"f":case"g":var g,_="";switch(f?(isNaN(r)&&(r=parseInt(r,10)),r="d"===n||"i"===n?(r<0&&(u="-",r=-r),Math.floor(r)):0<=r?Math.floor(r):Math.ceil(r)):(isNaN(r)&&(r=parseFloat(r)),r<0&&(u="-",r=-r),l||(h=6)),n.toLowerCase()){case"d":case"i":c+=r.toString(10);break;case"u":c+=N(r).toString(10);break;case"b":c+=N(r).toString(2),i&&(_="0b");break;case"o":c+=N(r).toString(8),i&&(_="0");break;case"x":case"X":c+=N(r).toString(16),i&&(_="0x");break;case"e":c+=r.toExponential(h);break;case"f":c+=r.toFixed(h);break;case"g":0===h&&(h=1),c+=r.toPrecision(h),i||-1===c.indexOf(".")||(c=(c=c.replace(/\.?0+$/,"")).replace(/\.?0+e/,"e"))}if(f){if(l){g=h-c.length;for(var m=0;m<g;m++)c="0"+c}}else i&&-1===c.indexOf(".")&&(-1!==c.indexOf("e")?c=c.replace("e",".e"):c+=".");if(-1!==c.indexOf("e")&&(c=c.replace(/e[+-][0-9]{1,2}$/,function(t){var e=t.length;return 3===t.length?t.substring(0,e-1)+"00"+t.substring(e-1,e):t.substring(0,e-2)+"0"+t.substring(e-2,e)})),g=s-(c.length+_.length+u.length),o)for(var p=0;p<g;p++)c+=" ";if(a)for(var v=0;v<g;v++)c="0"+c;if(c=u+(c=_+c),!a&&!o)for(var d=0;d<g;d++)c=" "+c;n.toUpperCase()===n&&(c=c.toUpperCase());break;case"c":isNaN(r)||(r=String.fromCharCode(r));case"s":isNaN(r)||(r=r.toString(10)),c=r,l&&c.length>h&&(c=c.substring(0,h));var y=s-c.length;if(o)for(var w=0;w<y;w++)c+=" ";else for(var x=a?"0":" ",b=0;b<y;b++)c=x+c;break;case"%":c="%";break;case"p":case"n":c="(変換できません)"}return c})},n=function(t){return"string"==typeof t||t instanceof String?0===t.length?" ":t:void 0===t?typeof t:null===t?"null":"function"==typeof t.toString?t.toString():t instanceof Object?"Object":"null"},e=function t(){this.output=t._getOutput()};e._getOutput=function(){var t=function(){return"undefined"!=typeof WSH?null:"undefined"!=typeof console?console:"undefined"!=typeof window&&void 0!==window.console?window.console:null},e=null;if("undefined"!=typeof WSH)e=/cscript\.exe$/i.test(WSH.FullName)?function(t){/\n$/.test(t)?WSH.StdOut.Write(t):WSH.StdOut.Write(t+"\n")}:WScript.Echo;else if(null!==t()){e=t().log}else"undefined"!=typeof alert&&(e=alert);return e},e.prototype.getOutput=function(){return this.output};var a=function(){this.root=null,this.element=null,this.isshow=!1,this.loglength=250,this.linelength=0};a.prototype._getElement=function(){if(null!==this.element)return this.element;var t=document.createElement("div");return t.style.backgroundColor="black",t.style.color="white",t.style.display="block",t.style.margin="0px",t.style.padding="5px",t.style.fontFamily="Consolas, Courier New, Courier, Monaco, monospace",t.style.whiteSpace="pre",this.element=t,this.element},a.prototype._initHTML=function(){if(null===this.root){var t;if(t=document.getElementById("senko_console"))for(var e=t.lastChild;e;)t.removeChild(e),e=t.lastChild;else t=document.body;t.style.backgroundColor="black",t.style.margin="0px",t.style.padding="0px",t.style.overflowY="scroll",t.appendChild(this._getElement()),this.root=t}},a.prototype.isShow=function(){return this.isshow},a.prototype.setShow=function(t){if("boolean"!=typeof t)throw"not boolean";this._initHTML();var e=this._getElement();this.isshow!==t&&(this.isshow=t,e&&(e.style.display=this.isshow?"block":"none"))},a.prototype._autoScroll=function(){if(null!==this.element&&null!==this.root){var t=this.root.clientHeight,e=this.element.clientHeight;e-t-1*t<=this.root.scrollTop&&(this.root.scrollTop=e)}},a.prototype._addNewLine=function(){this._initHTML();var t=this._getElement(),e=document.createElement("p");e.innerText="> ",e.style.margin="0.2em 0px 0.2em 0px",e.style.padding="0px",t.appendChild(e),this.linelength++,this._cleaningLog()},a.prototype._appendText=function(t){this._initHTML();var e=this._getElement().lastElementChild;e.innerText=e.innerText+t},a.prototype._cleaningLog=function(){if(null!==this.element)for(;this.linelength>this.loglength;)this.element.removeChild(this.element.firstElementChild),this.linelength--},a.prototype.setLogLength=function(t){this.loglength=t},a.prototype.println=function(t){this._initHTML();var e=this._getElement();e&&(e.lastElementChild||this._addNewLine(),this._appendText(t),this._addNewLine()),this._autoScroll()};var u=(new e).getOutput(),s=null,l=null;(console||window&&window.console)&&(s=new a,l=function(t){s.println(t)});var h=!1,c="",f=function(){};f.setGUI=function(){l&&(h=!0)},f.setCUI=function(){h=!1},f.println=function(t){var e=c+n(t);c="",h?l(e):u(e)},f.print=function(t){c+=n(t)},f.printf=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e.push(t[n]);f.print(i.apply(this,e))};var g=function(){};g.unsigned32=function(t){return t<0?2147483648+(2147483647&t):t},g.multiplication32=function(t,e){var n=(65535&t)*(65535&e),r=g.unsigned32(n);return r=g.unsigned32(r+((65535&(n=(65535&t)*(e>>>16)))<<16)),4294967295&(r=g.unsigned32(r+((65535&(n=(t>>>16)*(65535&e)))<<16)))};var v=function t(e){this.x=[];for(var n=0;n<521;n++)this.x[n]=0;if(1<=arguments.length)this.setSeed(e);else{var r=(new Date).getTime()+t.seedUniquifier&4294967295;t.seedUniquifier=t.seedUniquifier+1&4294967295,this.setSeed(r)}};v.prototype._rnd521=function(){for(var t=this.x,e=0;e<32;e++)t[e]^=t[e+489];for(var n=32;n<521;n++)t[n]^=t[n-32]},v.prototype.setSeed=function(t){for(var e=0,n=this.x,r=0;r<=16;r++){for(var i=0;i<32;i++)e=(e>>>1)+((t=g.multiplication32(t,1566083941)+1)<0?2147483648:0);n[r]=e}for(var o=16;o<521;o++)e=16===o?o:o-17,n[o]=n[e]<<23&4294967295^n[o-16]>>>9^n[o-1];for(var a=0;a<4;a++)this._rnd521();this.xi=0,this.haveNextNextGaussian=!1,this.nextNextGaussian=0},v.prototype.genrand_int32=function(){521===this.xi&&(this._rnd521(),this.xi=0);var t=g.unsigned32(this.x[this.xi]);return this.xi=this.xi+1,t},v.prototype.next=function(t){return 0===t?0:32===t?this.genrand_int32():t<32?this.genrand_int32()>>>32-t:63===t?2147483648*this.next(32)+this.next(32):64===t?4294967296*this.next(32)+this.next(32):t<64?this.genrand_int32()*(1<<t-32)+(this.genrand_int32()>>>64-t):void 0},v.prototype.nextBytes=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=this.next(8);return e},v.prototype.nextInt=function(){if(1!==arguments.length)return 4294967295&this.next(32);for(var t,e,n=arguments[0];e=(t=g.unsigned32(this.genrand_int32()))%n,4294967296<t-e+n;);return e},v.prototype.nextLong=function(){return this.next(64)},v.prototype.nextBoolean=function(){return 0!==this.next(1)},v.prototype.nextFloat=function(){return this.next(24)/16777216},v.prototype.nextDouble=function(){return(134217728*this.next(26)+this.next(27))/9007199254740992},v.prototype.nextGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var t=Math.sqrt(-2*Math.log(this.nextDouble())),e=2*Math.PI*this.nextDouble(),n=t*Math.sin(e);return this.nextNextGaussian=t*Math.cos(e),this.haveNextNextGaussian=!0,n},v.seedUniquifier=2271560481;var _=function(){};_.toString=function(){return"NONE"},_.getAddNumber=function(t){return 0};var m=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"UP"},e.getAddNumber=function(t){var e=t%10;return 0===e?0:0<e?10-e:-(10+e)},e}(_),p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"DOWN"},e.getAddNumber=function(t){return-t%10},e}(_),d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"CEILING"},e.getAddNumber=function(t){var e=t%10;return 0===e?0:0<e?10-e:-e},e}(_),y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"FLOOR"},e.getAddNumber=function(t){var e=t%10;return 0===e?0:0<e?-e:-(10+e)},e}(_),w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"HALF_UP"},e.getAddNumber=function(t){var e=t%10,n=0<=e?1:-1;return Math.abs(e)<5?-1*e:n*(10-Math.abs(e))},e}(_),x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"HALF_DOWN"},e.getAddNumber=function(t){var e=t%10,n=0<=e?1:-1;return Math.abs(e)<6?-1*e:n*(10-Math.abs(e))},e}(_),b=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"HALF_EVEN"},e.getAddNumber=function(t){var e,n,r=t%100;return n=1===(r<0?(e=-1,1&Math.ceil(r/10)):(e=1)&Math.floor(r/10))?5:6,r%=10,Math.abs(r)<n?-1*r:e*(10-Math.abs(r))},e}(_),M=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).toString=function(){return"UNNECESSARY"},e.getAddNumber=function(t){if(0===t%10)return 0;throw"ArithmeticException"},e}(_),E=function(){},N={UP:{configurable:!0},DOWN:{configurable:!0},CEILING:{configurable:!0},FLOOR:{configurable:!0},HALF_UP:{configurable:!0},HALF_DOWN:{configurable:!0},HALF_EVEN:{configurable:!0},UNNECESSARY:{configurable:!0}};E.valueOf=function(t){if(null===t)throw"NullPointerException";if(t instanceof _)return t;for(var e={RoundingMode_UP:m,RoundingMode_DOWN:p,RoundingMode_FLOOR:y,RoundingMode_CEILING:d,RoundingMode_HALF_UP:w,RoundingMode_HALF_DOWN:x,RoundingMode_HALF_EVEN:b,RoundingMode_UNNECESSARY:M},n=t.toUpperCase(),r=0;r<e.length;r++)if(e[r].toString()===n)return e[r];throw"IllegalArgumentException : "+t},N.UP.get=function(){return m},N.DOWN.get=function(){return p},N.CEILING.get=function(){return d},N.FLOOR.get=function(){return y},N.HALF_UP.get=function(){return w},N.HALF_DOWN.get=function(){return x},N.HALF_EVEN.get=function(){return b},N.UNNECESSARY.get=function(){return M},Object.defineProperties(E,N);var I=function(t,e){if(this.precision=t,this.roundingMode=void 0===e?E.HALF_UP:e,"string"==typeof t||t instanceof String){var n=t.match(/precision=\d+/);null!==n&&(n=n[0].substring("precision=".length,n[0].length),this.precision=parseInt(n,10)),null!==(n=t.match(/roundingMode=\w+/))&&(n=n[0].substring("roundingMode=".length,n[0].length),this.roundingMode=E.valueOf(n))}if(this.precision<0)throw"IllegalArgumentException"},A={UNLIMITED:{configurable:!0},DECIMAL32:{configurable:!0},DECIMAL64:{configurable:!0},DECIMAL128:{configurable:!0}};I.prototype.getPrecision=function(){return this.precision},I.prototype.getRoundingMode=function(){return this.roundingMode},I.prototype.equals=function(t){return t instanceof I&&t.toString()===this.toString()},I.prototype.toString=function(){return"precision="+this.precision+" roundingMode="+this.roundingMode.toString()},A.UNLIMITED.get=function(){return C.UNLIMITED},A.DECIMAL32.get=function(){return C.DECIMAL32},A.DECIMAL64.get=function(){return C.DECIMAL64},A.DECIMAL128.get=function(){return C.DECIMAL128},Object.defineProperties(I,A);var C={UNLIMITED:new I(0,E.HALF_UP),DECIMAL32:new I(7,E.HALF_EVEN),DECIMAL64:new I(16,E.HALF_EVEN),DECIMAL128:new I(34,E.HALF_EVEN)},F=new v,S=function(){};S.string_to_binary_number=function(t,e){for(var n=Math.floor(Math.log(1073741823)/Math.log(e)),r=[],i=[],o=Math.ceil(t.length/n),a=t.length,u=0;u<o;u++)a-=n,r[u]=0<=a?parseInt(t.substring(a,a+n),e):parseInt(t.substring(0,a+n),e);for(var s=Math.round(Math.pow(e,n));0!==r.length;){for(var l=0,h=r.length-1;0<=h;h--){var c=r[h]+l*s;r[h]=c>>>1,l=1&c}i[i.length]=l,0===r[r.length-1]&&r.pop()}r=[];for(var f=0;f<i.length;f++)r[f>>>4]|=i[f]<<(15&f);return r},S.number_to_binary_number=function(t){if(4294967295<t)return S.string_to_binary_number(t.toFixed(),10);for(var e=t,n=[];0!==e;)n[n.length]=1&e,e>>>=1;for(var r=[],i=0;i<n.length;i++)r[i>>>4]|=n[i]<<(15&i);return r},S.binary_number_to_string=function(t,a){for(var e=function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++)n[o]=t[o]+(e.length>=o+1?e[o]:0)+i,n[o]>=a?(i=1,n[o]-=a):i=0;1===i&&(n[r]=1)},n=[0],r=[1],i=0;i<t.length;i++)for(var o=0;o<16;o++)t[i]>>>o&1&&e(r,n,n),e(r,r,r);return n},S.ToBigIntegerFromString=function(t,e){var n=t.replace(/\s/g,"").toLowerCase(),r=n.match(/^[-+]+/),i=[],o=1;return null!==r&&(r=r[0],n=n.substring(r.length,n.length),-1!==r.indexOf("-")&&(o=-1)),1===(i=e?S.string_to_binary_number(n,e):/^0x/.test(n)?S.string_to_binary_number(n.substring(2,n.length),16):/^0b/.test(n)?S.string_to_binary_number(n.substring(2,n.length),2):/^0/.test(n)?S.string_to_binary_number(n.substring(1,n.length),8):S.string_to_binary_number(n,10)).length&&0===i[0]&&(i=[],o=0),{element:i,_sign:o}};var O=function t(e){if(this.element=[],(this._sign=0)===arguments.length)this.element=[],this._sign=0;else{if(1!==arguments.length)throw"BigInteger Unsupported argument "+e;if(this._sign=1,e instanceof t){for(var n=0;n<e.element.length;n++)this.element[n]=e.element[n];this._sign=e._sign}else if("number"==typeof e||e instanceof Number){var r=e;r<0&&(this._sign=-1,r=-r),this.element=S.number_to_binary_number(r)}else if("string"==typeof e||e instanceof String){var i=S.ToBigIntegerFromString(e);this.element=i.element,this._sign=i._sign}else if(e instanceof Array){var o=S.ToBigIntegerFromString(e[0],e[1]);this.element=o.element,this._sign=o._sign}else{if(!(e instanceof Object&&e.toString))throw"BigInteger Unsupported argument "+e;var a=S.ToBigIntegerFromString(e.toString());this.element=a.element,this._sign=a._sign}}},T={intValue:{configurable:!0},longValue:{configurable:!0},doubleValue:{configurable:!0}},D={ZERO:{configurable:!0},ONE:{configurable:!0},TWO:{configurable:!0},TEN:{configurable:!0}};O.create=function(t){return t instanceof O?t:new O(t)},O.valueOf=function(t){return O.create(t)},O._toBigInteger=function(t){return t instanceof O?t:new O(t)},O._toFloat=function(t){return"number"==typeof t||t instanceof Number?t:t instanceof O?t.doubleValue:new O(t).doubleValue},O._toInteger=function(t){return"number"==typeof t||t instanceof Number?0|t:t instanceof O?t.intValue:new O(t).intValue},O.createRandomBigInteger=function(t,e){var n=e&&e instanceof v?e:F,r=new O;r._sign=1;var i,o=O._toInteger(t),a=1+(o-1>>4);if(0===o)return O.ZERO;for(var u=0,s=0;u<a;u++)s=0===s?(i=n.nextInt(),r.element[u]=65535&i,1):(r.element[u]=i>>>16&65535,0);return o%16!=0&&(r.element[r.element.length-1]&=(1<<o%16)-1),r._memory_reduction(),r},O.probablePrime=function(t,e,n){for(void 0===n&&(n=100);;){var r=O.createRandomBigInteger(t,e);if(r.isProbablePrime(n))return r}},O.prototype.equals=function(t){var e=O._toBigInteger(t);if(this.signum()!==e.signum())return!1;if(this.element.length!==e.element.length)return!1;for(var n=0;n<e.element.length;n++)if(this.element[n]!==e.element[n])return!1;return!0},O.prototype.toString=function(t){void 0===t&&(t=10);var e,n=Math.floor(Math.log(1073741823)/Math.log(t)),r=Math.round(Math.pow(t,n)),i=[];for(e=0;e<n;e++)i[e]="0";i=i.join("");var o=S.binary_number_to_string(this.element,r),a=[],u="";for(this.signum()<0&&(a[a.length]="-"),e=o.length-1;0<=e;e--)u=o[e].toString(t),e<o.length-1&&(a[a.length]=i.substring(0,n-u.length)),a[a.length]=u;return a.join("")},O.prototype.getShort=function(t){var e=O._toInteger(t);return e<0||this.element.length<=e?0:this.element[e]},T.intValue.get=function(){var t=this.getShort(0)+(this.getShort(1)<<16);return 0<(t&=4294967295)&&this._sign<0&&(t=-t),t},T.longValue.get=function(){for(var t=0,e=3;0<=e;e--)t*=65536,t+=this.getShort(e);return this._sign<0&&(t=-t),t},T.doubleValue.get=function(){return parseFloat(this.toString())},O.prototype.clone=function(){var t=new O;return t.element=this.element.slice(0),t._sign=this._sign,t},O.prototype.isNegative=function(){return this._sign<0},O.prototype.isZero=function(){return this._memory_reduction(),0===this._sign},O.prototype.isPositive=function(){return 0<this._sign},O.prototype.getLowestSetBit=function(){for(var t=0;t<this.element.length;t++)if(0!==this.element[t])for(var e=this.element[t],n=0;n<16;n++)if(0!=(e>>>n&1))return 16*t+n;return-1},O.prototype.bitLength=function(){for(var t=this.element.length-1;0<=t;t--)if(0!==this.element[t])for(var e=this.element[t],n=15;0<=n;n--)if(0!=(e>>>n&1))return 16*t+n+1;return 0},O.prototype.bitCount=function(){for(var t,e=(t=0<=this._sign?this:this.add(new O(1))).bitLength(),n=0,r=0,i=0;n<e;i++)for(var o=t.element[i],a=0;a<16&&n<e;a++,n++)0!=(o>>>a&1)&&(r+=1);return r},O.prototype.getTwosComplement=function(t){var e=this.clone();if(0<=e._sign)return e;e._sign=1;for(var n=0!==arguments.length?t:e.bitLength(),r=e.element,i=0;i<r.length;i++)r[i]^=65535;return n%16!=0&&(r[r.length-1]&=(1<<n%16)-1),e._add(new O(1)),e},O.prototype._and=function(t){var e=this,n=O._toBigInteger(t),r=e.signum(),i=n.signum(),o=Math.max(e.bitLength(),n.bitLength());e=e.getTwosComplement(o).element,n=n.getTwosComplement(o).element;var a=Math.max(e.length,n.length);this.element=[];for(var u=0;u<a;u++){var s=u>=e.length?0:e[u],l=u>=n.length?0:n[u];this.element[u]=s&l}return 0===this.bitLength()&&(this.element=[],this._sign=0),1===r||1===i?this._sign=1:-1===this._sign&&(this.element=this.getTwosComplement(o).element),this},O.prototype.and=function(t){return this.clone()._and(t)},O.prototype._or=function(t){var e=this,n=O._toBigInteger(t),r=e.signum(),i=n.signum(),o=Math.max(e.bitLength(),n.bitLength());e=e.getTwosComplement(o).element,n=n.getTwosComplement(o).element;var a=Math.max(e.length,n.length);this.element=[];for(var u=0;u<a;u++){var s=u>=e.length?0:e[u],l=u>=n.length?0:n[u];this.element[u]=s|l}return this._sign=-1===r||-1===i?-1:Math.max(r,i),-1===this._sign&&(this.element=this.getTwosComplement(o).element),this},O.prototype.or=function(t){return this.clone()._or(t)},O.prototype._xor=function(t){var e=this,n=O._toBigInteger(t),r=e.signum(),i=n.signum(),o=Math.max(e.bitLength(),n.bitLength());e=e.getTwosComplement(o).element,n=n.getTwosComplement(o).element;var a=Math.max(e.length,n.length);this.element=[];for(var u=0;u<a;u++){var s=u>=e.length?0:e[u],l=u>=n.length?0:n[u];this.element[u]=s^l}return this._sign=0!==r&&r!==i?-1:1,-1===this._sign&&(this.element=this.getTwosComplement(o).element),this},O.prototype.xor=function(t){return this.clone()._xor(t)},O.prototype._not=function(){return this._add(new O(1))._negate()},O.prototype.not=function(){return this.clone()._not()},O.prototype._andNot=function(t){var e=O._toBigInteger(t);return this._and(e.not())},O.prototype.andNot=function(t){return this.clone()._andNot(t)},O.prototype._memory_allocation=function(t){var e=O._toInteger(t),n=this.element.length<<4;if(n<e)for(var r=1+((e-n-1&4294967280)>>>4),i=0;i<r;i++)this.element[this.element.length]=0},O.prototype._memory_reduction=function(){for(var t=this.element.length-1;0<=t;t--)if(0!==this.element[t])return void(t<this.element.length-1&&this.element.splice(t+1,this.element.length-t-1));this._sign=0,this.element=[]},O.prototype.gcd=function(t){for(var e,n=this,r=O._toBigInteger(t);0!==r.signum();)e=n.remainder(r),n=r,r=e;return n},O.prototype.extgcd=function(t){for(var e,n,r,i,o=O._toBigInteger(t),a=new O(1),u=new O(0),s=this,l=o,h=a,c=u,f=u,g=a;0!==l.signum();){var _=s.divideAndRemainder(l);n=_[0],e=_[1],r=h.subtract(n.multiply(c)),i=f.subtract(n.multiply(g)),h=c,c=r,f=g,g=i,s=l,l=e}return[h,f,s]},O.prototype._abs=function(){return this._sign*=this._sign,this},O.prototype.abs=function(){return this.clone()._abs()},O.prototype._negate=function(){return this._sign*=-1,this},O.prototype.negate=function(){return this.clone()._negate()},O.prototype.signum=function(){return 0===this.element.length?0:this._sign},O.prototype.sign=function(){return this.signum()},O.prototype.compareToAbs=function(t){var e=O._toBigInteger(t);if(this.element.length<e.element.length)return-1;if(this.element.length>e.element.length)return 1;for(var n=this.element.length-1;0<=n;n--)if(this.element[n]!==e.element[n]){var r=this.element[n]-e.element[n];return 0===r?0:0<r?1:-1}return 0},O.prototype.compareTo=function(t){var e=O._toBigInteger(t);return this.signum()!==e.signum()?this._sign>e._sign?1:-1:0===this.signum()?0:this.compareToAbs(e)*this._sign},O.prototype.max=function(t){var e=O._toBigInteger(t);return 0<=this.compareTo(e)?this.clone():e.clone()},O.prototype.min=function(t){var e=O._toBigInteger(t);return 0<=this.compareTo(e)?e.clone():this.clone()},O.prototype._shift=function(t){var e=O._toInteger(t);if(0===e)return this;var n=this.element;if(1===e){var r=n.length-1;for(0!=(32768&n[r])&&(n[n.length]=1);0<=r;r--)n[r]<<=1,n[r]&=65535,0<r&&0!=(32768&n[r-1])&&(n[r]+=1)}else if(-1===e){for(var i=0;i<n.length;i++)n[i]>>>=1,i<n.length-1&&0!=(1&n[i+1])&&(n[i]|=32768);0===n[n.length-1]&&n.pop()}else{if(16<=e){for(var o=e>>>4,a=n.length-1;0<=a;a--)n[a+o]=n[a];for(var u=o-1;0<=u;u--)n[u]=0;e&=15}else if(e<=-16){var s=-e>>>4;n.splice(0,s),e+=s<<4}if(0!==e)if(0<e){for(var l=0,h=0;h<n.length;h++)n[h]=(n[h]<<e)+l,65535<n[h]?(l=n[h]>>>16,n[h]&=65535):l=0;0!==l&&(n[n.length]=l)}else{e=-e;for(var c=0;c<n.length;c++)c!==n.length-1?(n[c]+=n[c+1]<<16,n[c]>>>=e,n[c]&=65535):n[c]>>>=e;0===n[n.length-1]&&n.pop()}}return this},O.prototype.shift=function(t){return this.clone()._shift(t)},O.prototype.shiftLeft=function(t){return this.shift(t)},O.prototype.shiftRight=function(t){return this.shift(-t)},O.prototype._add=function(t){var e=O._toBigInteger(t),n=this.element,r=e.element;if(this._sign===e._sign){this._memory_allocation(r.length<<4);for(var i=0,o=0;o<n.length;o++)n[o]+=(r.length>=o+1?r[o]:0)+i,65535<n[o]?(i=1,n[o]&=65535):i=0;0!==i&&(n[n.length]=i)}else{var a=this.compareToAbs(e);if(0===a)return this.element=[],this._sign=1,this;if(-1===a){this._sign=e._sign;var u=n;n=r.slice(0),r=u}for(var s=0,l=0;l<n.length;l++)n[l]-=(r.length>=l+1?r[l]:0)+s,s=n[l]<0?(n[l]+=65536,1):0;this.element=n,this._memory_reduction()}return this},O.prototype.add=function(t){return this.clone()._add(t)},O.prototype._subtract=function(t){var e=O._toBigInteger(t),n=e._sign,r=this._add(e._negate());return e._sign=n,r},O.prototype.subtract=function(t){return this.clone()._subtract(t)},O.prototype.sub=function(t){return this.subtract(t)},O.prototype._multiply=function(t){var e=this.multiply(t);return this.element=e.element,this._sign=e._sign,this},O.prototype.multiply=function(t){for(var e=O._toBigInteger(t),n=new O,r=new O,i=e,o=this.element,a=i.element,u=n.element,s=0;s<o.length;s++){r.element=[];for(var l=r.element,h=0,c=0;c<a.length;c++)l[c]=o[s]*a[c]+h,65535<l[c]?(h=l[c]>>>16,l[c]&=65535):h=0;0!==h&&(l[l.length]=h);for(var f=l.length-1;0<=f;f--)l[f+s]=l[f];for(var g=s-1;0<=g;g--)l[g]=0;h=0,n._memory_allocation(l.length<<4);for(var _=s;_<u.length;_++)u[_]+=(l.length>=_+1?l[_]:0)+h,65535<u[_]?(h=1,u[_]&=65535):h=0;0!==h&&(u[u.length]=h)}return n._sign=this._sign*e._sign,n},O.prototype.mul=function(t){return this.multiply(t)},O.prototype._divideAndRemainder=function(t){var e=O._toBigInteger(t),n=[];if(0===e.signum())return n[0]=1/0,n[1]=NaN,n;var r=this.compareToAbs(e);if(r<0)return n[0]=new O(0),n[1]=this.clone(),n;if(0===r)return n[0]=new O(1),n[0]._sign=this._sign*e._sign,n[1]=new O(0),n;for(var i=new O(1),o=this.bitLength()-e.bitLength(),a=this.clone()._abs(),u=e.shift(o)._abs(),s=new O,l=0;l<=o&&(0<=a.compareToAbs(u)&&(a._subtract(u),s._add(i)),l!==o);l++)u._shift(-1),s._shift(1);return n[0]=s,n[0]._sign=this._sign*e._sign,n[1]=a,n[1]._sign=this._sign,n},O.prototype.divideAndRemainder=function(t){return this.clone()._divideAndRemainder(t)},O.prototype._divide=function(t){return this._divideAndRemainder(t)[0]},O.prototype.divide=function(t){return this.clone()._divide(t)},O.prototype.div=function(t){return this.divide(t)},O.prototype._remainder=function(t){return this._divideAndRemainder(t)[1]},O.prototype.remainder=function(t){return this.clone()._remainder(t)},O.prototype.rem=function(t){return this.remainder(t)},O.prototype._mod=function(t){var e=O._toBigInteger(t);if(e.signum()<0)return null;var n=this._divideAndRemainder(e);return n[1]instanceof O?0<=n[1].signum()?n[1]:n[1]._add(e):null},O.prototype.mod=function(t){return this.clone()._mod(t)},O.prototype._setBit=function(t){var e=O._toInteger(t);return this._memory_allocation(e+1),this.element[e>>>4]|=1<<(15&e),this},O.prototype.setBit=function(t){var e=O._toInteger(t);return this.clone()._setBit(e)},O.prototype._flipBit=function(t){var e=O._toInteger(t);return this._memory_allocation(e+1),this.element[e>>>4]^=1<<(15&e),this},O.prototype.flipBit=function(t){var e=O._toInteger(t);return this.clone()._flipBit(e)},O.prototype.clearBit=function(t){var e=O._toInteger(t),n=this.clone();return n.element[e>>>4]&=~(1<<(15&e)),n._memory_reduction(),n},O.prototype.testBit=function(t){var e=O._toInteger(t);return 0!=(this.element[e>>>4]>>>(15&e)&1)},O.prototype.pow=function(t){for(var e=new O(t),n=new O(this),r=new O(1);0!==e.element.length;)0!=(1&e.element[0])&&(r=r.multiply(n)),n=n.multiply(n),e._shift(-1);return r},O.prototype.modPow=function(t,e){for(var n=O._toBigInteger(e),r=new O(this),i=new O(1),o=new O(t);0!==o.element.length;)0!=(1&o.element[0])&&(i=i.multiply(r).mod(n)),r=r.multiply(r).mod(n),o._shift(-1);return i},O.prototype.modInverse=function(t){var e=O._toBigInteger(t),n=this.extgcd(t),r=new O(1);return 0!==n[2].compareTo(r)?null:n[0]._add(e)._mod(e)},O.prototype.isProbablePrime=function(t){var e=this.element;if(0===e.length||1===e.length&&e[0]<=2)return!0;if(0==(1&e[0])||t<=0)return!1;for(var n,r,i=t?O._toInteger(t)>>1:50,o=new O(0),a=new O(1),u=this,s=u.bitLength(),l=u.subtract(a),h=l.getLowestSetBit(),c=l.shift(-h),f=0;f<i;f++){for(;0===(n=O.createRandomBigInteger(s)).compareTo(o)||-1!==n.compareTo(u););if(0!==(n=n.modPow(c,u)).compareTo(a)){r=!0;for(var g=0;g<=h;g++){if(0===n.compareTo(l)){r=!1;break}g<h&&(n=n.multiply(n)._mod(u))}if(r)return!1}}return!0},O.prototype.nextProbablePrime=function(){for(var t=this.clone();t._add(O.ONE),!t.isProbablePrime(100););return t},D.ZERO.get=function(){return R.ZERO},D.ONE.get=function(){return R.ONE},D.TWO.get=function(){return R.TWO},D.TEN.get=function(){return R.TEN},Object.defineProperties(O.prototype,T),Object.defineProperties(O,D);var R={ONE:new O(1),TWO:new O(2),TEN:new O(10),ZERO:new O(0)},L=I.DECIMAL128,z=function(){};z.ToBigDecimalFromString=function(t){var e,n=0,r=t.replace(/\s/g,"").toLowerCase(),i="";return null!==(e=r.match(/^[+-]+/))&&(e=e[0],r=r.substr(e.length),-1!==e.indexOf("-")&&(i+="-")),null!==(e=r.match(/^[0-9]+/))&&(e=e[0],r=r.substr(e.length),i+=e),null!==(e=r.match(/^\.[0-9]+/))&&(e=e[0],r=r.substr(e.length),n+=(e=e.substr(1)).length,i+=e),null!==(e=r.match(/^e[+-]?[0-9]+/))&&(e=e[0].substr(1),n-=parseInt(e,10)),{scale:n,integer:new O([i,10])}};var P=function t(e){this._scale=0,this.default_context=L;var n=null;if(1<arguments.length)throw"BigDecimal Unsupported argument["+arguments.length+"]";if(e instanceof t)this.integer=e.integer.clone(),this._scale=e._scale,this.int_string=e.int_string,this.default_context=e.default_context;else if(e instanceof O)this.integer=e.clone();else if("number"==typeof e||e instanceof Number)if(e===Math.floor(e))this.integer=new O(e);else{for(var r=0,i=e,o=0;o<10&&(r+=1,(i*=10)!==Math.floor(i));o++);this._scale=r,this.integer=new O(i)}else if(e instanceof Array){if(1<=e.length)if("string"==typeof e[0]||e[0]instanceof String){var a=z.ToBigDecimalFromString(e[0]);this.integer=a.integer,this._scale=a.scale}else this.integer=new O(e[0]);2<=e.length&&("number"==typeof e[1]||e[1]instanceof Number?(this._scale=e[1],3<=e.length&&(this.default_context=e[2]),4<=e.length&&(n=e[3])):(2<=e.length&&(this.default_context=e[1]),3<=e.length&&(n=e[2])))}else if("string"==typeof e||e instanceof String){var u=z.ToBigDecimalFromString(e);this.integer=u.integer,this._scale=u.scale}else if(e instanceof Object&&void 0!==e.scale&&void 0!==e.default_context)this.integer=new O(e.integer),e.scale&&(this._scale=e.scale),e.default_context&&(this.default_context=e.default_context),e.context&&(n=e.context);else{if(!(e instanceof Object&&void 0!==e.toString))throw"BigDecimal Unsupported argument "+arguments;var s=z.ToBigDecimalFromString(e.toString());this.integer=s.integer,this._scale=s.scale}if(n){var l=this.round(n);this.integer=l.integer,this._scale=l._scale,delete this.int_string}if(!(this.integer instanceof O&&this.default_context instanceof I))throw"BigDecimal Unsupported argument "+arguments},B={intValue:{configurable:!0},intValueExact:{configurable:!0},floatValue:{configurable:!0},doubleValue:{configurable:!0}},V={ZERO:{configurable:!0},ONE:{configurable:!0},TWO:{configurable:!0},TEN:{configurable:!0}};P.create=function(t){return t instanceof P?t:new P(t)},P.valueOf=function(t,e){return 1===arguments.length?new P(t):new P([t,e])},P._toBigDecimal=function(t){return t instanceof P?t:new P(t)},P._toBigInteger=function(t){return t instanceof O?t:t instanceof P?t.toBigInteger():new O(t)},P._toFloat=function(t){return"number"==typeof t||t instanceof Number?t:t instanceof P?t.doubleValue:new P(t).doubleValue},P._toInteger=function(t){return"number"==typeof t||t instanceof Number?0|t:t instanceof O?t.intValue:new O(t).intValue},P.prototype._getUnsignedIntegerString=function(){return void 0===this.int_string&&(this.int_string=this.integer.toString(10).replace(/^-/,"")),this.int_string},P.prototype.clone=function(){return new P(this)},P.prototype.scale=function(){return this._scale},P.prototype.signum=function(){return this.integer.signum()},P.prototype.sign=function(){return this.signum()},P.prototype.precision=function(){return this._getUnsignedIntegerString().length},P.prototype.unscaledValue=function(){return new O(this.integer)},P.prototype.toScientificNotation=function(t){var e,n,r=P._toInteger(t),i=this._getUnsignedIntegerString(),o=this.scale(),a=[];if(-1===this.signum()&&(a[a.length]="-"),0<=(o=-r-o))for(a[a.length]=i,e=0;e<o;e++)a[a.length]="0";else if(0<(n=this.precision()+o))a[a.length]=i.substring(0,n),a[a.length]=".",a[a.length]=i.substring(n,i.length);else{for(n=-n,a[a.length]="0.",e=0;e<n;e++)a[a.length]="0";a[a.length]=i}return a[a.length]="E",0<=r&&(a[a.length]="+"),a[a.length]=r,a.join("")},P.prototype.toString=function(){var t=-this.scale()+(this.precision()-1);return 0<=this.scale()&&-6<=t?this.toPlainString():this.toScientificNotation(t)},P.prototype.toEngineeringString=function(){var t=-this.scale()+(this.precision()-1);return 0<=this.scale()&&-6<=t?this.toPlainString():this.toScientificNotation(3*Math.floor(t/3))},P.prototype.toPlainString=function(){return 0===this.scale()?this.signum()<0?"-"+this._getUnsignedIntegerString():this._getUnsignedIntegerString():this.toScientificNotation(0).match(/^[^E]*/)[0]},P.prototype.ulp=function(){return new P([O.ONE,this.scale(),this.default_context])},P.prototype.setScale=function(t,e,n){void 0===e&&(e=E.UNNECESSARY);var r=P._toInteger(t);if(this.scale()===r)return this.clone();var i=void 0!==n?n:this.default_context,o=this._getUnsignedIntegerString(),a=this.signum(),u=0<=a?"":"-",s=r-this.scale();if(0<=s){var l;for(l=0;l<s;l++)o+="0";return new P([new O(u+o),r,i])}var h=o.length+s,c=h+1;if(h<=0){var f=(a+e.getAddNumber(a))/10;return new P([new O(f),r,i])}var g=o.match(/0+$/);if(0<=(null!==g?g[0].length:0)+s||e===E.DOWN)return new P([new O(u+o.substring(0,h)),r,i]);var _=1<(o=o.substring(0,c)).length?2:1,m=parseInt(o.substring(o.length-_,o.length))*a,p=new O(u+o),v=new O(e.getAddNumber(m));return o=p.add(v).toString(),new P([new O(o.substring(0,o.length-1)),r,i])},P.prototype.round=function(t){if(!(t instanceof I))throw"not MathContext";var e=t.getPrecision(),n=e-this.precision();if(0===n||0===e)return this.clone();var r=this.setScale(this.scale()+n,t.getRoundingMode(),t);if(0<n)return r;if(r.precision()===t.getPrecision())return r;var i=0<=r.integer.signum()?"":"-",o=r._getUnsignedIntegerString(),a=i+o.substring(0,o.length-1);return new P([new O(a),r.scale()-1,t])},P.prototype.abs=function(t){var e=this.clone();return e.integer=e.integer.abs(),void 0===t?e:e.round(t)},P.prototype.plus=function(t){var e=this.clone();return void 0===t?e:e.round(t)},P.prototype.negate=function(t){var e=this.clone();return e.integer=e.integer.negate(),void 0===t?e:e.round(t)},P.prototype.compareTo=function(t){var e=this,n=P._toBigDecimal(t),r=e.signum(),i=n.signum();if(0===r&&r===i)return 0;if(0===r)return-i;if(0===i)return r;if(e._scale===n._scale)return e.integer.compareTo(n.integer);if(e._scale>n._scale){var o=n.setScale(e._scale);return e.integer.compareTo(o.integer)}return e.setScale(n._scale).integer.compareTo(n.integer)},P.prototype.equals=function(t){if(t instanceof P)return this._scale===t._scale&&this.integer.equals(t.integer);if("string"==typeof t||t instanceof String){var e=P._toBigDecimal(t);return this._scale===e._scale&&this.integer.equals(e.integer)}return 0===this.compareTo(t)},P.prototype.min=function(t){var e=P._toBigDecimal(t);return this.compareTo(e)<=0?this.clone():e.clone()},P.prototype.max=function(t){var e=P._toBigDecimal(t);return 0<=this.compareTo(e)?this.clone():e.clone()},P.prototype.scaleByPowerOfTen=function(t){var e=P._toBigInteger(t),n=this.clone();return n._scale=this.scale()-e,n},P.prototype.movePointLeft=function(t){var e=P._toBigInteger(t),n=this.scaleByPowerOfTen(-e);return n=n.setScale(Math.max(this.scale()+e,0))},P.prototype.movePointRight=function(t){var e=P._toBigInteger(t),n=this.scaleByPowerOfTen(e);return n=n.setScale(Math.max(this.scale()-e,0))},P.prototype.stripTrailingZeros=function(){var t=0<=this.signum()?"":"-",e=this.integer.toString(10).replace(/^-/,""),n=e.match(/0+$/),r=null!==n?n[0].length:0;r===e.length&&(r=e.length-1);var i=this.scale()-r;return new P([new O(t+e.substring(0,e.length-r)),i,this.default_context])},P.prototype.add=function(t,e){var n=P._toBigDecimal(t),r=e||n.default_context,i=this,o=n,a=Math.max(i._scale,o._scale);if(i._scale===o._scale)return new P([i.integer.add(o.integer),a,r,r]);if(i._scale>o._scale){var u=o.setScale(i._scale);return new P([i.integer.add(u.integer),a,r,r])}var s=i.setScale(o._scale);return new P([s.integer.add(o.integer),a,r,r])},P.prototype.subtract=function(t,e){var n=P._toBigDecimal(t),r=e||n.default_context,i=this,o=n,a=Math.max(i._scale,o._scale);if(i._scale===o._scale)return new P([i.integer.subtract(o.integer),a,r,r]);if(i._scale>o._scale){var u=o.setScale(i._scale);return new P([i.integer.subtract(u.integer),a,r,r])}var s=i.setScale(o._scale);return new P([s.integer.subtract(o.integer),a,r,r])},P.prototype.sub=function(t,e){return this.subtract(t,e)},P.prototype.multiply=function(t,e){var n=P._toBigDecimal(t),r=e||n.default_context,i=n,o=this.integer.multiply(i.integer),a=this._scale+i._scale;return new P([o,a,r])},P.prototype.mul=function(t,e){return this.multiply(t,e)},P.prototype.divideToIntegralValue=function(t,e){var n=P._toBigDecimal(t),r=e||n.default_context,i=function(t){var e,n="1";for(e=0;e<t;e++)n+="0";return new O(n)};if(0===n.compareTo(P.ZERO))throw"ArithmeticException";var o=n,a=this.integer,u=o.integer,s=this._scale-o._scale;this._scale>o._scale?u=u.multiply(i(s)):this._scale<o._scale&&(a=a.multiply(i(-s)));var l=a.divide(u),h=l.signum();if(0!==h){var c=l.toString(10).replace(/^-/,"");if(0!==r.getPrecision()&&c.length>r.getPrecision())throw"ArithmeticException";if(c.length<=-s){var f=c.match(/0+$/),g=null!==f?f[0].length:0;return new P([new O((0<=h?"":"-")+c.substring(0,c.length-g)),-g,r])}}var _=new P(l);return(_=(_=_.setScale(s,E.UP)).round(r)).default_context=r,_},P.prototype.divideAndRemainder=function(t,e){var n=P._toBigDecimal(t),r=e||n.default_context,i=this.divideToIntegralValue(n,r),o=this.subtract(i.multiply(n,r),r);return[i,o]},P.prototype.rem=function(t,e){return this.divideAndRemainder(t,e)[1]},P.prototype.mod=function(t,e){var n=this.rem(t,e);if(n.compareTo(P.ZERO)<0)return n.add(t,e)},P.prototype.divide=function(t,e){var n,r=P._toBigDecimal(t),i=null,o=null,a=0,u=!1;if(a=e&&e.scale?(u=!1,e.scale):(u=!0,e&&(e.roundingMode||e.context)?this.scale():this.scale()-r.scale()),o=e&&e.context?(i=e.context.getRoundingMode(),a=e.context.getPrecision(),e.context):this.default_context,i=e&&e.roundingMode?e.roundingMode:o.getRoundingMode(),0===r.compareTo(P.ZERO))throw"ArithmeticException";var s,l,h,c,f=this,g=[];c=P.ZERO;var _=o.getPrecision(),m=0!==_?_+8:262143;for(n=0;n<m&&(l=(s=f.divideAndRemainder(r,I.UNLIMITED))[0],h=s[1],c=c.add(l.scaleByPowerOfTen(-n),I.UNLIMITED),0!==h.compareTo(P.ZERO));n++){if(0===_){if(g[h._getUnsignedIntegerString()])throw"ArithmeticException "+c+"["+h._getUnsignedIntegerString()+"]";g[h._getUnsignedIntegerString()]=!0}f=h.scaleByPowerOfTen(1)}if(u)try{c=c.setScale(a,i)}catch(t){}else c=c.setScale(a,i);return c=c.round(o)},P.prototype.div=function(t,e){return this.divide(t,e)},P.prototype.toBigInteger=function(){var t=this.toPlainString().replace(/\.\d*$/,"");return new O(t)},P.prototype.toBigIntegerExact=function(){var t=this.setScale(0,E.UNNECESSARY);return new O(t.toPlainString())},B.intValue.get=function(){var t=this.toBigInteger();return 4294967295&(t=t.intValue)},B.intValueExact.get=function(){var t=this.toBigIntegerExact();if((t=t.intValue)<-2147483648||2147483647<t)throw"ArithmeticException";return t},B.floatValue.get=function(){var t=this.precision();return I.DECIMAL32.getPrecision()<t?0<=this.signum()?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:parseFloat(t.toEngineeringString())},B.doubleValue.get=function(){var t=this.precision();return I.DECIMAL64.getPrecision()<t?0<=this.signum()?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:parseFloat(t.toEngineeringString())},P.prototype.pow=function(t,e){var n,r,i=P._toInteger(t),o=e||i.default_context;if(999999999<Math.abs(i))throw"ArithmeticException";if(0===o.getPrecision()&&i<0)throw"ArithmeticException";if(0<o.getPrecision()&&i>o.getPrecision())throw"ArithmeticException";for(n=this.clone(),r=P.ONE;0!==i;)0!=(1&i)&&(r=r.multiply(n,I.UNLIMITED)),n=n.multiply(n,I.UNLIMITED),i>>>=1;return r.round(o)},P.setDefaultContext=function(t){L=t||I.DECIMAL128},P.getDefaultContext=function(){return L},V.ZERO.get=function(){var t=new P(q.ZERO);return t.default_context=L,t},V.ONE.get=function(){var t=new P(q.ONE);return t.default_context=L,t},V.TWO.get=function(){var t=new P(q.TWO);return t.default_context=L,t},V.TEN.get=function(){var t=new P(q.TEN);return t.default_context=L,t},Object.defineProperties(P.prototype,B),Object.defineProperties(P,V);var q={ZERO:new P(0),ONE:new P(1),TWO:new P(2),TEN:new P(10)};P.RoundingMode=E,P.MathContext=I;var Z=new v,k=function(){};k.ToComplexFromString=function(t){var e=t.replace(/\s/g,"").toLowerCase();if(!/[ij]/.test(e))return{real:parseFloat(e),imag:0};var n,r=0,i=0;return(n=e.match(/[+-]?[0-9]+(\.[0-9]+)?(e[+-]?[0-9]+)?($|[+-])/))&&(r=parseFloat(n[0])),(n=e.match(/[+-]?([0-9]+(\.[0-9]+)?(e[+-]?[0-9]+)?)?[ij]/))&&(n=n[0].substring(0,n[0].length-1),i=/^[-+]$/.test(n)||0===n.length?"-"===n?-1:1:parseFloat(n)),{real:r,imag:i}};var U=function t(e){if(1!==arguments.length)throw"Complex Many arguments : "+arguments.length;var n=e;if(n instanceof t||n instanceof Object&&n._re&&n._im)this._re=n._re,this._im=n._im;else if("number"==typeof n||n instanceof Number)this._re=n,this._im=0;else if(n instanceof Array&&2===n.length)this._re=n[0],this._im=n[1];else if("string"==typeof n||n instanceof String){var r=k.ToComplexFromString(n);this._re=r.real,this._im=r.imag}else{if(!(n instanceof Object&&n.toString))throw"Complex Unsupported argument "+arguments;var i=k.ToComplexFromString(n.toString());this._re=i.real,this._im=i.imag}},H={real:{configurable:!0},imag:{configurable:!0},norm:{configurable:!0},angle:{configurable:!0}},j={ONE:{configurable:!0},TWO:{configurable:!0},TEN:{configurable:!0},ZERO:{configurable:!0},MINUS_ONE:{configurable:!0},I:{configurable:!0},PI:{configurable:!0},HALF:{configurable:!0}};U.create=function(t){return t instanceof U?t:new U(t)},U.valueOf=function(t){return U.valueOf(t)},U._toComplex=function(t){return t instanceof U?t:new U(t)},U._toFloat=function(t){if("number"==typeof t||t instanceof Number)return t;if((t instanceof U?t:new U(t)).isReal())return new U(t).real;throw"not support complex numbers."},U._toInteger=function(t){throw 0|U._toFloat(t)},U.prototype.clone=function(){return this},U.prototype.toString=function(){var t=function(t){var e=t.toPrecision(6);return-1!==e.indexOf(".")&&(e=(e=e.replace(/\.?0+$/,"")).replace(/\.?0+e/,"e")),e};return this.isReal()?t(this._re):0===this._re?t(this._im)+"i":0<=this._im?t(this._re)+" + "+t(this._im)+"i":t(this._re)+" - "+t(-this._im)+"i"},U.rand=function(){return new U(Z.nextDouble())},U.randn=function(){return new U(Z.nextGaussian())},U.prototype.equals=function(t,e){var n=U._toComplex(t),r=e?U._toFloat(e):Number.EPSILON;return Math.abs(this._re-n._re)<r&&Math.abs(this._im-n._im)<r},H.real.get=function(){return this._re},H.imag.get=function(){return this._im},H.norm.get=function(){return 0===this._im?Math.abs(this._re):0===this._re?Math.abs(this._im):Math.sqrt(this._re*this._re+this._im*this._im)},H.angle.get=function(){return 0===this._im?0:0===this._re?Math.PI*(0<=this._im?.5:-.5):Math.atan2(this._im,this._re)},U.prototype.getDecimalPosition=function(){for(var t=0,e=this,n=0;n<20&&!e.isComplexInteger();n++)e=e.mul(U.TEN),t++;return t},U.prototype.add=function(t){var e=new U(t);return e._re=this._re+e._re,e._im=this._im+e._im,e},U.prototype.sub=function(t){var e=new U(t);return e._re=this._re-e._re,e._im=this._im-e._im,e},U.prototype.mul=function(t){var e=new U(t);if(0===this._im&&0===e._im)return e._re=this._re*e._re,e;if(0===this._re&&0===e._re)return e._re=-this._im*e._im,e._im=0,e;var n=this._re*e._re-this._im*e._im,r=this._im*e._re+this._re*e._im;return e._re=n,e._im=r,e},U.prototype.dot=function(t){var e=new U(t);if(0===this._im&&0===e._im)return e._re=this._re*e._re,e;if(0===this._re&&0===e._re)return e._re=this._im*e._im,e._im=0,e;var n=this._re*e._re+this._im*e._im,r=-this._im*e._re+this._re*e._im;return e._re=n,e._im=r,e},U.prototype.div=function(t){var e=new U(t);if(0===this._im&&0===e._im)return e._re=this._re/e._re,e;if(0===this._re&&0===e._re)return e._re=this._im/e._im,e._im=0,e;var n=this._re*e._re+this._im*e._im,r=this._im*e._re-this._re*e._im,i=1/(e._re*e._re+e._im*e._im);return e._re=n*i,e._im=r*i,e},U.prototype.mod=function(t){var e=new U(t);if(0!==this._im||0!==e._im)throw"calculation method is undefined.";var n=this._re-e._re*(0|this._re/e._re);return n<0&&(n+=e._re),e._re=n,e},U.prototype.inv=function(){return 0===this._im?new U(1/this._re):0===this._re?new U([0,-1/this._im]):U.ONE.div(this)},U.prototype.sign=function(){return 0===this._im?0===this._re?new U(0):new U(0<this._re?1:-1):this.div(this.norm)},U.prototype.max=function(t,e){var n=U._toComplex(t);return this.compareTo(n,e)<=0?this:n},U.prototype.min=function(t,e){var n=U._toComplex(t);return 0<=this.compareTo(n,e)?this:n},U.prototype.compareTo=function(t,e){var n=U._toComplex(t);return this.equals(n,e)?0:this.real+this.imag<n.real+n.imag?1:-1},U.prototype.isInteger=function(t){var e=t?U._toFloat(t):Number.EPSILON;return this.isReal()&&Math.abs(this._re-(0|this._re))<e},U.prototype.isComplexInteger=function(t){var e=t?U._toFloat(t):Number.EPSILON;return Math.abs(this._re-(0|this._re))<e&&Math.abs(this._im-(0|this._im))<e},U.prototype.isZero=function(t){var e=t?U._toFloat(t):Number.EPSILON;return Math.abs(this._re)<e&&Math.abs(this._im)<e},U.prototype.isOne=function(t){var e=t?U._toFloat(t):Number.EPSILON;return Math.abs(this._re-1)<e&&Math.abs(this._im)<e},U.prototype.isComplex=function(t){var e=t?U._toFloat(t):Number.EPSILON;return Math.abs(this._im)>=e},U.prototype.isReal=function(t){var e=t?U._toFloat(t):Number.EPSILON;return Math.abs(this._im)<e},U.prototype.isNaN=function(){return Math.isNaN(this._re)||Math.isNaN(this._im)},U.prototype.isPositive=function(){return 0<this._re},U.prototype.isNegative=function(){return this._re<0},U.prototype.isNotNegative=function(){return 0<=this._re},U.prototype.isInfinite=function(){return this._re===Number.POSITIVE_INFINITY||this._im===Number.POSITIVE_INFINITY||this._re===Number.NEGATIVE_INFINITY||this._im===Number.NEGATIVE_INFINITY},U.prototype.isFinite=function(){return!this.isNaN()&&!this.isInfinite()},U.prototype.abs=function(){return new U(this.norm)},U.prototype.conj=function(){return 0===this._im?this:new U([this._re,-this._im])},U.prototype.negate=function(){return new U([-this._re,-this._im])},U.prototype.pow=function(t){var e=new U(t);if(this.isReal()&&e.isReal()&&this.isNotNegative())return e._re=Math.pow(this._re,e._re),e;if(e.isReal()){var n=Math.pow(this.norm,e._re),r=this.angle*e._re;return e._re=n*Math.cos(r),e._im=n*Math.sin(r),e}return e.mul(this.log()).exp()},U.prototype.square=function(){return new U(this._re*this._re+this._im*this._im)},U.prototype.sqrt=function(){if(this.isReal())return this.isNotNegative()?new U(Math.sqrt(this._re)):new U([0,Math.sqrt(this._re)]);var t=Math.sqrt(this.norm),e=.5*this.angle;return new U([t*Math.cos(e),t*Math.sin(e)])},U.prototype.log=function(){return this.isReal()&&this.isNotNegative()?new U(Math.log(this._re)):new U([Math.log(this.norm),this.angle])},U.prototype.exp=function(){if(this.isReal())return new U(Math.exp(this._re));var t=Math.exp(this._re);return new U([t*Math.cos(this._im),t*Math.sin(this._im)])},U.prototype.sin=function(){if(this.isReal())return new U(Math.sin(this._re));var t=this.mul(U.I).exp(),e=this.mul(U.I.negate()).exp();return t.sub(e).div([0,2])},U.prototype.cos=function(){if(this.isReal())return new U(Math.cos(this._re));var t=this.mul(U.I).exp(),e=this.mul(U.I.negate()).exp();return t.add(e).div(2)},U.prototype.tan=function(){return this.isReal()?new U(Math.tan(this._re)):this.sin().div(this.cos())},U.prototype.atan=function(){return this.isReal()?new U(Math.atan(this._re)):U.I.div(U.TWO).mul(U.I.add(this).div(U.I.sub(this)).log())},U.prototype.atan2=function(t){if(0===arguments.length)return new U(this.angle);var e=U._toComplex(t);if(this.isReal()&&e.isReal())return new U(Math.atan2(this._re,e._re));throw"calculation method is undefined."},U.prototype.sinc=function(){return this.isReal()?0===this._re?U.ONE:new U(Math.sin(this._re)/this._re):new U(this.sin().div(this))},U.prototype.floor=function(){return new U([Math.floor(this._re),Math.floor(this._im)])},U.prototype.ceil=function(){return new U([Math.ceil(this._re),Math.ceil(this._im)])},U.prototype.round=function(){return new U([Math.round(this._re),Math.round(this._im)])},U.prototype.fix=function(){return new U([0|this._re,0|this._im])},U.prototype.fract=function(){return new U([this._re-(0|this._re),this._im-(0|this._im)])},j.ONE.get=function(){return W.ONE},j.TWO.get=function(){return W.TWO},j.TEN.get=function(){return W.TEN},j.ZERO.get=function(){return W.ZERO},j.MINUS_ONE.get=function(){return W.MINUS_ONE},j.I.get=function(){return W.I},j.PI.get=function(){return W.PI},j.HALF.get=function(){return W.HALF},Object.defineProperties(U.prototype,H),Object.defineProperties(U,j);var W={ZERO:new U(0),ONE:new U(1),TWO:new U(2),TEN:new U(10),MINUS_ONE:new U(-1),I:new U([0,1]),PI:new U(Math.PI),HALF:new U(.5)},Y=function(){};Y.tridiagonalize=function(t){for(var e=ut._toMatrix(t).getNumberMatrixArray(),h=function(t,e,n,r){for(var i=0,o=n||0,a=r||t.length,u=o;u<a;u++)i+=t[u]*e[u];return i},n=function(t,e,n){var r=e||0,i=n||t.length,o=Math.sqrt(h(t,t,r,i)),a=[];if(1e-10<=Math.abs(o)){var u;t[r]<0&&(o=-o);for(var s=r,l=0;s<i;s++,l++)a[l]=s===r?(a[l]=t[s]+o,u=1/Math.sqrt(a[l]*o),a[l]*u):t[s]*u}return{y1:-o,v:a}},r=e.length,i=[],o=[],a=0;a<r-2;a++){var u=e[a];i[a]=u[a];var s=n(u,a+1,r);o[a]=s.y1;for(var l=0;l<s.v.length;l++)u[a+1+l]=s.v[l];if(!(Math.abs(o[a])<1e-10)){for(var c=a+1;c<r;c++){for(var f=0,g=a+1;g<c;g++)f+=e[g][c]*u[g];for(var _=c;_<r;_++)f+=e[c][_]*u[_];i[c]=f}for(var m=h(u,i,a+1,r)/2,p=r-1;a<p;p--){var v=u[p],d=i[p]-m*v;i[p]=d;for(var y=p;y<r;y++){var w=v*i[y]+d*u[y];e[p][y]=e[p][y]-w}}}}2<=r&&(i[r-2]=e[r-2][r-2],o[r-2]=e[r-2][r-1]),1<=r&&(i[r-1]=e[r-1][r-1]);for(var x=r-1;0<=x;x--){var b=e[x];if(x<r-2)for(var M=x+1;M<r;M++)for(var E=e[M],N=h(b,E,x+1,r),I=x+1;I<r;I++)E[I]-=N*b[I];for(var A=0;A<r;A++)b[A]=0;b[x]=1}var C=ut.createMatrixDoEachCalculation(function(t,e){return t===e?new U(i[t]):1===Math.abs(t-e)?new U(o[.5*(t+e)|0]):U.ZERO},r,r);return{P:new ut(e).T(),H:C}},Y.eig=function(t){for(var e=ut._toMatrix(t),n=!1,r=Y.tridiagonalize(e),i=r.P.getNumberMatrixArray(),o=r.H.getNumberMatrixArray(),a=e.row_length,u=[],s=[],l=0;l<a;l++)u[l]=o[l][l],s[l]=0===l?0:o[l][l-1];for(var h=a-1;0<h;h--){var c=h;for(c=h;1<=c&&!(Math.abs(s[c])<=1e-10*(Math.abs(u[c-1])+Math.abs(u[c])));c--);if(c!=h){for(var f=0;;){if(100<++f){n=!0;break}var g=(u[h-1]-u[h])/2,_=s[h]*s[h],m=Math.sqrt(g*g+_);g<0&&(m=-m);for(var p=u[c]-u[h]+_/(g+m),v=s[c+1],d=c;d<h;d++){var y=void 0,w=void 0;Math.abs(p)>=Math.abs(v)?w=(_=-v/p)*(y=1/Math.sqrt(_*_+1)):y=(_=-p/v)*(w=1/Math.sqrt(_*_+1)),_=((g=u[d]-u[d+1])*w+2*y*s[d+1])*w,u[d]-=_,u[d+1]+=_,c<d&&(s[d]=y*s[d]-w*v),s[d+1]+=w*(y*g-2*w*s[d+1]);for(var x=0;x<a;x++)p=i[x][d],v=i[x][d+1],i[x][d]=y*p-w*v,i[x][d+1]=w*p+y*v;d<h-1&&(p=s[d+1],v=-w*s[d+2],s[d+2]*=y)}if(Math.abs(s[h])<=1e-10*(Math.abs(u[h-1])+Math.abs(u[h])))break}if(n)break}}return function(t,e){for(var n=e.length,r=[],i=0;i<n;i++)r[i]={sigma:e[i],index:i};r.sort(function(t,e){return t===e?0:t<e?-1:1});for(var o=ut.zeros(n),a=ut.zeros(n),u=0;u<n;u++)a.matrix_array[u][u]=new U(r[u].sigma),o.matrix_array[u][r[u].index]=U.ONE;return{V:t.mul(o),D:a}}(new ut(i),u)},Y._gram_schmidt_orthonormalization=function(t){for(var e=ut._toMatrix(t),n=e.column_length,r=e.matrix_array,i=ut.zeros(n),o=ut.zeros(n),a=i.matrix_array,u=o.matrix_array,s=[],l=new Array(n),h=0;h<n;h++){for(var c=0;c<n;c++)l[c]=r[c][h];if(0<h){for(var f=0;f<h;f++)for(var g=0;g<n;g++)u[f][h]=u[f][h].add(r[g][h].dot(a[g][f]));for(var _=0;_<h;_++)for(var m=0;m<n;m++)l[m]=l[m].sub(u[_][h].mul(a[m][_]))}for(var p=0;p<n;p++)u[h][h]=u[h][h].add(l[p].mul(l[p]));if(u[h][h]=u[h][h].sqrt(),u[h][h].isZero(1e-10)){s.push(h);for(var v=0;v<n;v++)a[v][h]=U.ZERO}else for(var d=0;d<n;d++)a[d][h]=l[d].div(u[h][h])}return{Q:i,R:o,non_orthogonalized:s}},Y._createOrthogonalVector=function(t,e){for(var n=new ut(t),r=n.column_length,i=n.matrix_array,o=Y._get_linear_dependence_vector(n,e||1e-10),a=o.length-1;0<=a;a--)i.splice(o[a],1),n.row_length--;var u=r-i.length;if(u<=0)return null;for(var s=new v(0),l=null,h=0;h<100;h++){var c=n.T(),f=ut.createMatrixDoEachCalculation(function(){return new U(s.nextGaussian())},c.row_length,u);if(c._concat_left(f),0===(l=Y._gram_schmidt_orthonormalization(c)).non_orthogonalized.length)break}if(0!==l.non_orthogonalized.length)return console.log("miss"),null;for(var g=new Array(u),_=l.Q.matrix_array,m=0;m<u;m++){g[m]=new Array(r);for(var p=0;p<r;p++)g[m][p]=_[p][r-u+m]}return new ut(g)},Y._max_row_number=function(t,e,n,r){for(var i=ut._toMatrix(t),o=0,a=0,u=n||0,s=r||i.row_length;u<s;u++){var l=i.matrix_array[u][e].norm;a<l&&(a=l,o=u)}return{index:o,max:a}},Y._get_linear_dependence_vector=function(t,e){for(var n=new ut(t),r=n.matrix_array,i=e?ut._toFloat(e):1e-10,o=new Array(t.row_length),a=0;a<t.row_length;a++)o[a]=a;for(var u=0;u<n.column_length;u++){var s=0,l=0,h=0;for(var c in o){var f=o[c],g=r[f][u].norm;l<g&&(l=g,h=c,s=f)}if(!(l<=i)){if(o.splice(h,1),u===n.column_length-1)break;for(var _ in o)for(var m=o[_],p=r[m][u].div(r[s][u]),v=u;v<n.column_length;v++)r[m][v]=r[m][v].sub(r[s][v].mul(p))}}return o};var G=function(){};G.inner=function(t,e,n){var r=ut._toMatrix(t),i=ut._toMatrix(e),o=r.matrix_array,a=i.matrix_array,u=n?ut._toInteger(n):1;if(r.isScalar()&&i.isScalar())return new ut(r.scalar.dot(i.scalar));if(r.isVector()&&i.isVector()){for(var s=U.ZERO,l=0;l<r.length;l++)s=s.add(r.getComplex(l).dot(i.getComplex(l)));return new ut(s)}if(r.row_length!==i.row_length||r.column_length!==i.column_length)throw"Matrix size does not match";if(1===u){var h=new Array(1);h[0]=new Array(r.column_length);for(var c=0;c<r.column_length;c++){for(var f=U.ZERO,g=0;g<r.row_length;g++)f=f.add(o[g][c].dot(a[g][c]));h[0][c]=f}return new ut(h)}if(2!==u)throw"dim";for(var _=new Array(r.row_length),m=0;m<r.row_length;m++){for(var p=U.ZERO,v=0;v<r.column_length;v++)p=p.add(o[m][v].dot(a[m][v]));_[m]=[p]}return new ut(_)},G.norm=function(t,e){if(void 0===e)return G.norm(t,2);var n=ut._toMatrix(t),r=ut._toInteger(e);if(1===r){var i=n.matrix_array;if(n.isRow()){for(var o=0,a=0;a<n.column_length;a++)o+=i[0][a].norm;return o}if(n.isColumn()){for(var u=0,s=0;s<n.row_length;s++)u=i[s][0].norm;return u}for(var l=0,h=0;h<n.column_length;h++){for(var c=0,f=0;f<n.row_length;f++)c+=i[f][h].norm;l<c&&(l=c)}return l}if(2===r){var g=n.matrix_array;if(n.isRow()){for(var _=0,m=0;m<n.column_length;m++)_+=g[0][m].square().real;return Math.sqrt(_)}if(n.isColumn()){for(var p=0,v=0;v<n.row_length;v++)p=g[v][0].square().real;return Math.sqrt(p)}return n.svd().S.diag().max().scalar.real}if(e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY){for(var d=n.matrix_array,y=e===Number.POSITIVE_INFINITY?0:Number.POSITIVE_INFINITY,w=0;w<n.row_length;w++){for(var x=0,b=0;b<n.column_length;b++)x+=d[w][b].norm;y=e===Number.POSITIVE_INFINITY?Math.max(y,x):Math.min(y,x)}return y}if(n.isVector()){for(var M=0,E=0;E<n.length;E++)M=Math.pow(n.getComplex(E).norm,e);return Math.pow(M,1/e)}throw"norm"},G.rank=function(t,e){var n=ut._toMatrix(t);return Math.abs(n.row_length,n.column_length)-Y._get_linear_dependence_vector(n,e).length},G.det=function(t){var e=ut._toMatrix(t);if(!e.isSquare())throw"not square";var l=function(t){if(2===t.length)return t[0][0].mul(t[1][1]).sub(t[0][1].mul(t[1][0]));for(var e=U.ZERO,n=0;n<t.length;n++){for(var r=[],i=t[n][0],o=0,a=0;o<t.length;o++)if(n!==o){r[a]=[];for(var u=1,s=0;u<t.length;u++,s++)r[a][s]=t[o][u];a++}e=n%2==0?e.add(i.mul(l(r))):e.sub(i.mul(l(r)))}return e};return new ut(l(e.matrix_array))},G.lup=function(t){for(var e=new ut(t),n=ut.zeros(e.row_length),r=e,i=ut.eye(e.row_length),o=n.matrix_array,a=r.matrix_array,u=0;u<e.column_length;u++){var s,l=Y._max_row_number(r,u,u);if(s=l.index,0!==l.max){u!==s&&(n._exchange_row(u,s),r._exchange_row(u,s),i._exchange_row(u,s));for(var h=u+1;h<e.row_length;h++){var c=a[h][u].div(a[u][u]);o[h][u]=c;for(var f=u;f<e.column_length;f++)a[h][f]=a[h][f].sub(a[u][f].mul(c))}}}return n._resize(e.row_length,Math.min(e.row_length,e.column_length)),r._resize(Math.min(e.row_length,e.column_length),e.column_length),n._each(function(t,e,n){return e===n?U.ONE:t}),{L:n,U:r,P:i}},G.linsolve=function(t,e){var n=ut._toMatrix(t),r=ut._toMatrix(e);if(!n.isSquare())throw"Matrix size does not match";var i=r;if(r.row_length!==n.row_length||1<r.column_length)throw"Matrix size does not match";var o=new ut(n);o._concat_left(i);for(var a=o.matrix_array,u=o.column_length,s=n.column_length,l=0;l<s-1;l++){var h=Y._max_row_number(o,l,l).index;o._exchange_row(l,h);for(var c=a[l][l].inv(),f=l,g=l;g<u;g++)a[f][g]=a[f][g].mul(c);for(var _=l+1;_<s;_++)for(var m=a[_][l],p=l;p<u;p++)a[_][p]=a[_][p].sub(a[l][p].mul(m))}var v=new Array(s);v[s-1]=a[s-1][s].div(a[s-1][s-1]);for(var d=s-2;0<=d;d--){v[d]=a[d][u-1];for(var y=d+1;y<s;y++)v[d]=v[d].sub(a[d][y]*v[y]);v[d]=v[d].div(a[d][d])}for(var w=new Array(n.row_length),x=0;x<n.row_length;x++)w[x]=[v[x]];return new ut(w)},G.qr=function(t){var e=new ut(t),n=e.row_length,r=e.row_length,i=e.row_length,o=e.column_length,a=Math.max(e.row_length,e.column_length);e._resize(a,a);var u=Y._gram_schmidt_orthonormalization(e),s=u.Q,l=u.R,h=u.non_orthogonalized;if(0!==h.length){for(var c={},f=0;f<h.length;f++)c[h[f]]=1;for(var g=[],_=0;_<a;_++)if(!c[_]){for(var m=[],p=0;p<a;p++)m[p]=s.matrix_array[p][_];g.push(m)}for(var v=Y._createOrthogonalVector(g),d=0;d<h.length;d++)for(var y=h[d],w=0;w<a;w++)s.matrix_array[w][y]=v.matrix_array[d][w]}return s._resize(n,r),l._resize(i,o),{Q:s,R:l}},G.tridiagonalize=function(t){var e=new ut(t);if(!e.isSquare())throw"not square matrix";if(!e.isSymmetric())throw"not Symmetric";if(e.isComplex())throw"not Real Matrix";return Y.tridiagonalize(e)},G.eig=function(t){var e=new ut(t);if(!e.isSquare())throw"not square matrix";if(!e.isSymmetric())throw"not Symmetric";if(e.isComplex())throw"not Real Matrix";return Y.eig(e)},G.svd=function(t){var e=new ut(t);if(e.isComplex())throw"Unimplemented";var r=G.rank(e),i=G.eig(e.T().mul(e)),n=ut.zeros(e.row_length,e.column_length);n._each(function(t,e,n){if(e===n&&e<r)return i.D.getComplex(e,e).sqrt()});var o=ut.createMatrixDoEachCalculation(function(t,e){return t===e?n.matrix_array[t][t].inv():U.ZERO},r),a=new ut(i.V)._resize(i.V.row_length,r),u=e.mul(a).mul(o);return{U:G.qr(u).Q,S:n,V:i.V}},G.inv=function(t){var e=new ut(t);if(e.isScalar())return new ut(U.ONE.div(e.scalar));if(!e.isSquare())throw"not square";if(e.isDiagonal()){for(var n=e.T(),r=Math.min(n.row_length,n.column_length),i=0;i<r;i++)n.matrix_array[i][i]=n.matrix_array[i][i].inv();return n}var o=e.column_length,a=new ut(e);a._concat_left(ut.eye(o));for(var u=a.matrix_array,s=a.column_length,l=0;l<o;l++){var h=Y._max_row_number(a,l,l).index;a._exchange_row(l,h);for(var c=u[l][l].inv(),f=l,g=l;g<s;g++)u[f][g]=u[f][g].mul(c);for(var _=0;_<o;_++)if(_!==l)for(var m=u[_][l],p=l;p<s;p++)u[_][p]=u[_][p].sub(u[l][p].mul(m))}for(var v=new Array(o),d=0;d<o;d++){v[d]=new Array(o);for(var y=0;y<o;y++)v[d][y]=u[d][o+y]}return new ut(v)},G.pinv=function(t){var e=new ut(t),n=G.svd(e),r=n.U,i=n.S,o=n.V,a=ut.createMatrixDoEachCalculation(function(t,e){if(t!==e)return U.ZERO;var n=i.matrix_array[t][t];return n.isZero()?U.ZERO:n.inv()},e.column_length,e.row_length);return o.mul(a).mul(r.T())};var $=function(){};$.gammaln=function(t){for(var e=Math.log(2*Math.PI),n=[-15238221.539407417,691472.268851313,-36108.77125372499,8553103/6/650,-156.84828462600203,854513/138/462,-174611/330/380,43867/798/306,-3617/510/240,7/6/182,-691/2730/132,5/66/90,-1/30/56,1/42/30,-1/30/12,1/6/2],r=1,i=t;i<n.length;)r*=i,i++;for(var o=1/(i*i),a=n[0],u=1;u<n.length;u++)a*=o,a+=n[u];return a/=i,a+=.5*e,a+=-Math.log(r)-i+(i-.5)*Math.log(i)},$.q_gamma=function(t,e,n){var r,i,o,a,u,s=1,l=1+t-e;if(t<1+e)return 1-$.p_gamma(t,e,n);for(i=(o=Math.exp(e*Math.log(t)-t-n))/l,r=2;r<1e3;r++)if(a=((r-1-e)*(l-s)+(r+t)*l)/r,u=i,(i+=a=(o*=(r-1-e)/r)/((s=l)*(l=a)))==u)return i;return Number.NaN},$.p_gamma=function(t,e,n){var r,i,o,a;if(1+e<=t)return 1-$.q_gamma(t,e,n);if(0===t)return 0;for(i=o=Math.exp(e*Math.log(t)-t-n)/e,r=1;r<1e3;r++)if(a=i,(i+=o*=t/(e+r))==a)return i;return Number.NaN},$.gamma=function(t){return t<0?Math.PI/(Math.sin(Math.PI*t)*Math.exp($.gammaln(1-t))):Math.exp($.gammaln(t))},$.gammainc=function(t,e,n){if("lower"===n)return $.p_gamma(t,e,$.gammaln(e));if("upper"===n)return $.q_gamma(t,e,$.gammaln(e));if(2===arguments.length)return $.gammainc(t,e,"lower");throw"gammainc unsupported argument ["+n+"]"},$.gampdf=function(t,e,n){var r=1/($.gamma(e)*Math.pow(n,e));return r*=Math.pow(t,e-1),r*=Math.exp(-t/n)},$.gamcdf=function(t,e,n){return $.gammainc(t/n,e)},$.gaminv=function(t,e,n){if(t<0||1<t)return Number.NaN;if(0==t)return 0;if(1==t)return Number.POSITIVE_INFINITY;for(var r,i,o=e*n,a=0;a<100&&(r=(i=o-($.gamcdf(o,e,n)-t)/$.gampdf(o,e,n))-o,!(Math.abs(r)<=1e-12));a++)o=i;return o},$.beta=function(t,e){return Math.exp($.gammaln(t)+$.gammaln(e)-$.gammaln(t+e))},$.p_beta=function(t,e,n){var r,i,o,a;if(e<=0)return Number.POSITIVE_INFINITY;if(n<=0)return t<1?0:1===t?1:Number.POSITIVE_INFINITY;if((e+1)/(e+n+2)<t)return 1-$.p_beta(1-t,n,e);if(t<=0)return 0;for(o=e*Math.log(t),o+=n*Math.log(1-t),o+=$.gammaln(e+n),o-=$.gammaln(e)+$.gammaln(n),o=Math.exp(o),i=o/=e,r=1;r<1e3;r++)if(o*=e+n+r-1,o*=t,a=i,(i+=o/=e+r)===a)return i;return Number.NaN},$.q_beta=function(t,e,n){return 1-$.p_beta(t,e,n)},$.betainc=function(t,e,n,r){if("lower"===r)return $.p_beta(t,e,n);if("upper"===r)return $.q_beta(t,e,n);if(3===arguments.length)return $.betainc(t,e,n,"lower");throw"betainc unsupported argument ["+r+"]"},$.betapdf=function(t,e,n){return Math.pow(t,e-1)*Math.pow(1-t,n-1)/$.beta(e,n)},$.betacdf=function(t,e,n){return $.betainc(t,e,n)},$.betainv=function(t,e,n){if(t<0||1<t)return Number.NaN;if(1==t&&0<e&&0<n)return 1;var r,i,o;r=0==n?1-1e-14:0==e?1e-14:e/(e+n);for(var a=0;a<100&&(i=(o=r-($.betacdf(r,e,n)-t)/$.betapdf(r,e,n))-r,!(Math.abs(i)<=1e-14));a++)r=o;return r},$.factorial=function(t){var e=$.gamma(t+1);return(0|t)===t?Math.round(e):e},$.nchoosek=function(t,e){return Math.round($.factorial(t)/($.factorial(t-e)*$.factorial(e)))},$.erf=function(t){return $.p_gamma(t*t,.5,.5*Math.log(Math.PI))*(0<=t?1:-1)},$.erfc=function(t){return 1-$.erf(t)},$.normpdf=function(t,e,n){var r="number"==typeof e?e:0,i="number"==typeof n?n:1,o=1/Math.sqrt(2*Math.PI*i*i);return o*=Math.exp(-(t-r)*(t-r)/(2*i*i))},$.normcdf=function(t,e,n){return(1+$.erf((t-("number"==typeof e?e:0))/(("number"==typeof n?n:1)*Math.sqrt(2))))/2},$.norminv=function(t,e,n){if(t<0||1<t)return Number.NaN;if(0==t)return Number.NEGATIVE_INFINITY;if(1==t)return Number.POSITIVE_INFINITY;for(var r,i,o="number"==typeof e?e:0,a="number"==typeof n?n:1,u=o,s=0;s<200&&(r=(i=u-($.normcdf(u,o,a)-t)/$.normpdf(u,o,a))-u,!(Math.abs(r)<=1e-12));s++)u=i;return u},$.tpdf=function(t,e){var n=1/(Math.sqrt(e)*$.beta(.5,.5*e));return n*=Math.pow(1+t*t/e,.5*-(e+1))},$.tcdf=function(t,e){return.5*(1+$.betainc(t*t/(e+t*t),.5,.5*e)*(t<0?-1:1))},$.tinv=function(t,e){if(t<0||1<t)return Number.NaN;if(0==t)return Number.NEGATIVE_INFINITY;if(1==t)return Number.POSITIVE_INFINITY;if(t<.5){var n=$.betainv(2*t,.5*e,.5);return-Math.sqrt(e/n-e)}var r=$.betainv(2*(1-t),.5*e,.5);return Math.sqrt(e/r-e)},$.tdist=function(t,e,n){return(1-$.tcdf(t,e))*n},$.tinv2=function(t,e){return-$.tinv(.5*t,e)},$.chi2pdf=function(t,e){if(t<=0)return 0;var n=Math.pow(t,e/2-1)*Math.exp(-t/2);return n/=Math.pow(2,e/2)*$.gamma(e/2)},$.chi2cdf=function(t,e){return $.gammainc(t/2,e/2)},$.chi2inv=function(t,e){return $.gaminv(t,e/2,2)},$.fpdf=function(t,e,n){var r=1;return r*=Math.pow(e*t/(e*t+n),e/2),r*=Math.pow(1-e*t/(e*t+n),n/2),r/=t*$.beta(e/2,n/2)},$.fcdf=function(t,e,n){return $.betacdf(e*t/(e*t+n),e/2,n/2)},$.finv=function(t,e,n){return(1/$.betainv(1-t,n/2,e/2)-1)*n/e};var X=function(t){return t&&("string"==typeof t||t instanceof String)},Q=function(){};Q.gammaln=function(t){return new U($.gammaln(U._toFloat(t)))},Q.gamma=function(t){return new U($.gamma(U._toFloat(t)))},Q.gammainc=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=X(n)?n:"lower";return new U($.gammainc(r,i,o))},Q.gampdf=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.gampdf(r,i,o))},Q.gamcdf=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.gamcdf(r,i,o))},Q.gaminv=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.gaminv(r,i,o))},Q.beta=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.beta(n,r))},Q.betainc=function(t,e,n,r){var i=U._toFloat(t),o=U._toFloat(e),a=U._toFloat(n),u=X(r)?r:"lower";return new U($.betainc(i,o,a,u))},Q.betapdf=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.betapdf(r,i,o))},Q.betacdf=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.betacdf(r,i,o))},Q.betainv=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.betainv(r,i,o))},Q.factorial=function(t){return new U($.factorial(U._toFloat(t)))},Q.nchoosek=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.nchoosek(n,r))},Q.erf=function(t){var e=U._toFloat(t);return new U($.erf(e))},Q.erfc=function(t){var e=U._toFloat(t);return new U($.erfc(e))},Q.normpdf=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.normpdf(r,i,o))},Q.normcdf=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.normcdf(r,i,o))},Q.norminv=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.norminv(r,i,o))},Q.tcdf=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.tcdf(n,r))},Q.tinv=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.tinv(n,r))},Q.tdist=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toInteger(n);return new U($.tdist(r,i,o))},Q.tinv2=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.tinv2(n,r))},Q.chi2pdf=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.chi2pdf(n,r))},Q.chi2cdf=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.chi2cdf(n,r))},Q.chi2inv=function(t,e){var n=U._toFloat(t),r=U._toFloat(e);return new U($.chi2inv(n,r))},Q.fpdf=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.fpdf(r,i,o))},Q.fcdf=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.fcdf(r,i,o))},Q.finv=function(t,e,n){var r=U._toFloat(t),i=U._toFloat(e),o=U._toFloat(n);return new U($.finv(r,i,o))};var J=function(){};J.gammaln=function(t){return t.cloneMatrixDoEachCalculation(function(t){return Q.gammaln(t)})},J.gamma=function(t){return t.cloneMatrixDoEachCalculation(function(t){return Q.gamma(t)})},J.gammainc=function(t,e,n){var r=ut._toFloat(e),i=X(n)?n:"lower";return t.cloneMatrixDoEachCalculation(function(t){return Q.gammainc(t,r,i)})},J.gampdf=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.gampdf(t,r,i)})},J.gamcdf=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.gamcdf(t,r,i)})},J.gaminv=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.gaminv(t,r,i)})},J.beta=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.beta(t,n)})},J.betainc=function(t,e,n,r){var i=ut._toFloat(e),o=ut._toFloat(n),a=X(r)?r:"lower";return t.cloneMatrixDoEachCalculation(function(t){return Q.betainc(t,i,o,a)})},J.betacdf=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.betacdf(t,r,i)})},J.betapdf=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.betapdf(t,r,i)})},J.betainv=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.betainv(t,r,i)})},J.factorial=function(t){return t.cloneMatrixDoEachCalculation(function(t){return Q.factorial(t)})},J.nchoosek=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.nchoosek(t,n)})},J.erf=function(t){return t.cloneMatrixDoEachCalculation(function(t){return Q.erf(t)})},J.erfc=function(t){return t.cloneMatrixDoEachCalculation(function(t){return Q.erfc(t)})},J.normpdf=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=U._toFloat(e),i=U._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.normpdf(t,r,i)})},J.normcdf=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=U._toFloat(e),i=U._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.normcdf(t,r,i)})},J.norminv=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=U._toFloat(e),i=U._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.norminv(t,r,i)})},J.tpdf=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.tpdf(t,n)})},J.tcdf=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.tcdf(t,n)})},J.tinv=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.tinv(t,n)})},J.tdist=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.tdist(t,r,i)})},J.tinv2=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.tinv2(t,n)})},J.chi2pdf=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.chi2pdf(t,n)})},J.chi2cdf=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.chi2cdf(t,n)})},J.chi2inv=function(t,e){var n=ut._toFloat(e);return t.cloneMatrixDoEachCalculation(function(t){return Q.chi2inv(t,n)})},J.fpdf=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.fpdf(t,r,i)})},J.fcdf=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.fcdf(t,r,i)})},J.finv=function(t,e,n){var r=ut._toFloat(e),i=ut._toFloat(n);return t.cloneMatrixDoEachCalculation(function(t){return Q.finv(t,r,i)})},J.sum=function(t){return t.__column_oriented_1_dimensional_processing(function(t){for(var e=U.ZERO,n=U.ZERO,r=0;r<t.length;r++){var i=t[r].add(n),o=e.add(i);n=o.sub(e).sub(i),e=o}return[e]})},J.mean=function(t){return t.__column_oriented_1_dimensional_processing(function(t){for(var e=U.ZERO,n=U.ZERO,r=0;r<t.length;r++){var i=t[r].add(n),o=e.add(i);n=o.sub(e).sub(i),e=o}return[e.div(t.length)]})},J.geomean=function(t){return t.__column_oriented_1_dimensional_processing(function(t){for(var e=U.ONE,n=0;n<t.length;n++)e=e.mul(t[n]);return[e.sqrt()]})},J.var=function(t,e){var o=t.mean(),a=0,u=0===arguments.length?0:ut._toFloat(e);return t.__column_oriented_1_dimensional_processing(function(t){var e;e=o.isScalar()?o.scalar:o.getComplex(a++);for(var n=U.ZERO,r=0;r<t.length;r++){var i=t[r].sub(e);n=n.add(i.dot(i))}return 1===t.length?[n.div(t.length)]:[n.div(t.length-1+u)]})},J.std=function(t,e){var n=0===arguments.length?0:ut._toFloat(e),r=t.var(n);return r._each(function(t){return t.sqrt()}),r},J.cov=function(t,e){var n=0===arguments.length?0:ut._toFloat(e);if(t.isVector())return t.var(n);n=1===t.row_length?1:n;for(var r=t.matrix_array,i=t.mean().matrix_array[0],o=new Array(t.column_length),a=0;a<t.column_length;a++){var u=i[a];o[a]=new Array(t.column_length);for(var s=a;s<t.column_length;s++){for(var l=i[s],h=U.ZERO,c=0;c<t.row_length;c++)h=h.add(r[c][a].sub(u).dot(r[c][s].sub(l)));o[a][s]=h.div(t.row_length-1+n)}}for(var f=1;f<o[0].length;f++)for(var g=0;g<f;g++)o[f][g]=o[g][f];return new ut(o)},J.normalize=function(t){var e=t.sub(t.mean());return e.ndiv(e.std())},J.corrcoef=function(t){return t.normalize().cov()};var K=function t(e){this.size=e,this.inv_size=1/this.size,this.bit_size=Math.round(Math.log(this.size)/Math.log(2)),this.is_fast=1<<this.bit_size===this.size,this.bitrv=null,this.fft_re=new Array(this.size),this.fft_im=new Array(this.size);for(var n=-2*Math.PI/this.size,r=0,i=0,o=0;i<this.size;i++){this.fft_re[i]=Math.cos(o),this.fft_im[i]=Math.sin(o);var a=n+r,u=o+a;r=u-o-a,o=u}this.is_fast&&(this.bitrv=t.create_bit_reverse_table(this.bit_size))};K.bit_reverse_32=function(t){var e=4294967295&t;return e=(65535&(e=(16711935&(e=(252645135&(e=(858993459&(e=(1431655765&e)<<1|e>>1&1431655765))<<2|e>>2&858993459))<<4|e>>4&252645135))<<8|e>>8&16711935))<<16|e>>16&65535},K.create_bit_reverse_table=function(t){for(var e=1<<t,n=[],r=0;r<e;r++)n[r]=K.bit_reverse_32(r)>>>32-t;return n},K.prototype.delete=function(){delete this.size,delete this.inv_size,delete this.bit_size,delete this.is_fast,delete this.bitrv,delete this.fft_re,delete this.fft_im},K.prototype.fft=function(t,e){var n=new Array(this.size),r=new Array(this.size);if(this.is_fast){for(var i=0;i<this.size;i++)n[i]=t[this.bitrv[i]],r[i]=e[this.bitrv[i]];for(var o=1,a=this.size/2,u=2,s=1<<this.bit_size-1;0<s;s>>=1){for(var l=0;l<a;l++)for(var h=l*u,c=0,f=0;c<o;c++,h++,f+=s){var g=n[h+o]*this.fft_re[f]-r[h+o]*this.fft_im[f],_=r[h+o]*this.fft_re[f]+n[h+o]*this.fft_im[f];n[h+o]=n[h]-g,r[h+o]=r[h]-_,n[h]+=g,r[h]+=_}a/=2,u*=2,o*=2}}else if(it.isContainsZero(e))for(var m=0;m<this.size;m++){n[m]=0;for(var p=r[m]=0,v=0;p<this.size;v=++p*m%this.size)n[m]+=t[p]*this.fft_re[v]-e[p]*this.fft_im[v],r[m]+=t[p]*this.fft_im[v]+e[p]*this.fft_re[v]}else for(var d=0;d<this.size;d++){n[d]=0;for(var y=r[d]=0,w=0;y<this.size;w=++y*d%this.size)n[d]+=t[y]*this.fft_re[w],r[d]+=t[y]*this.fft_im[w]}return{real:n,imag:r}},K.prototype.ifft=function(t,e){var n=new Array(this.size),r=new Array(this.size);if(this.is_fast){for(var i=0;i<this.size;i++)n[i]=t[this.bitrv[i]],r[i]=e[this.bitrv[i]];for(var o,a,u=1,s=this.size/2,l=2,h=1<<this.bit_size-1;0<h;h>>=1){for(var c=0;c<s;c++)for(var f=c*l,g=0,_=0;g<u;g++,f++,_+=h)o=n[f+u]*this.fft_re[_]+r[f+u]*this.fft_im[_],a=r[f+u]*this.fft_re[_]-n[f+u]*this.fft_im[_],n[f+u]=n[f]-o,r[f+u]=r[f]-a,n[f]+=o,r[f]+=a;s/=2,l*=2,u*=2}}else if(it.isContainsZero(e))for(var m=0;m<this.size;m++){n[m]=0;for(var p=r[m]=0,v=0;p<this.size;v=m*++p%this.size)n[m]+=t[p]*this.fft_re[v]+e[p]*this.fft_im[v],r[m]+=-t[p]*this.fft_im[v]+e[p]*this.fft_re[v]}else for(var d=0;d<this.size;d++){n[d]=0;for(var y=r[d]=0,w=0;y<this.size;w=d*++y%this.size)n[d]+=t[y]*this.fft_re[w],r[d]+=-t[y]*this.fft_im[w]}for(var x=0;x<this.size;x++)n[x]*=this.inv_size,r[x]*=this.inv_size;return{real:n,imag:r}};var tt=function(t,e){this.object=e,this.table_max=t,this.table_size=0,this.table=[]};tt.prototype.get=function(t){for(var e=0;e<this.table_size;e++)if(this.table[e].size===t){var n=this.table.splice(e,1);return this.table.unshift(n),n}var r=new this.object(t);this.table_size===this.table_max&&this.table.pop().delete();return this.table.unshift(r),r};var et=new tt(4,K),nt=function(t){this.size=t,this.dct_size=2*t,this.dct_re=new Array(this.size),this.dct_im=new Array(this.size);for(var e=1/Math.sqrt(this.size),n=e*Math.sqrt(2),r=0;r<this.size;r++){var i=-Math.PI*r/this.dct_size;this.dct_re[r]=Math.cos(i)*(0===r?e:n),this.dct_im[r]=Math.sin(i)*(0===r?e:n)}};nt.prototype.delete=function(){delete this.size,delete this.dct_size,delete this.dct_re,delete this.dct_im},nt.prototype.dct=function(t){for(var e=new Array(this.dct_size),n=new Array(this.dct_size),r=0;r<this.dct_size;r++)e[r]=r<this.size?t[r]:0,n[r]=0;for(var i=et.get(this.dct_size).fft(e,n),o=0;o<this.size;o++)e[o]=i.real[o]*this.dct_re[o]-i.imag[o]*this.dct_im[o];return e.splice(this.size),e},nt.prototype.idct=function(t){for(var e=new Array(this.dct_size),n=new Array(this.dct_size),r=2*this.size,i=0;i<this.dct_size;i++)e[i]=i<this.size?r*t[i]*this.dct_re[i]:0,n[i]=i<this.size?r*t[i]*-this.dct_im[i]:0;var o=et.get(this.dct_size).ifft(e,n);return o.real.splice(this.size),o.real};var rt=new tt(4,nt),it=function(){};it.isContainsZero=function(t){for(var e=0;e<t.length;e++)if(0!==t[e])return!0;return!1},it.fft=function(t,e){return et.get(t.length).fft(t,e)},it.ifft=function(t,e){return et.get(t.length).ifft(t,e)},it.dct=function(t){return rt.get(t.length).dct(t)},it.idct=function(t){return rt.get(t.length).idct(t)},it.powerfft=function(t,e){for(var n=t.length,r=it.fft(t,e),i=new Array(n),o=0;o<n;o++)i[o]=r.real[o]*r.real[o]+r.imag[o]*r.imag[o];return i},it.conv=function(t,e,n,r){var i=!1;if(t.length===n.length){i=!0;for(var o=0;o<t.length;o++)if(t[o]!==n[o]||e[o]!==r[o]){i=!1;break}}var a=t.length,u=2*a;if(1<<Math.round(Math.log(a)/Math.log(2))===a){if(i){for(var s=t.length,l=new Array(u),h=new Array(u),c=0;c<u;c++)l[c]=c<s?t[c]:0,h[c]=c<s?e[c]:0;for(var f=it.fft(l,h),g=0;g<u;g++)l[g]=f.real[g]*f.real[g]-f.imag[g]*f.imag[g],h[g]=f.real[g]*f.imag[g]+f.imag[g]*f.real[g];var _=it.ifft(l,h);return _.real.splice(u-1),_.imag.splice(u-1),_}if(t.length===n.length){for(var m=t.length,p=new Array(u),v=new Array(u),d=new Array(u),y=new Array(u),w=0;w<u;w++)p[w]=w<m?t[w]:0,v[w]=w<m?e[w]:0,d[w]=w<m?n[w]:0,y[w]=w<m?r[w]:0;for(var x=it.fft(p,v),b=it.fft(d,y),M=new Array(u),E=new Array(u),N=0;N<u;N++)M[N]=x.real[N]*b.real[N]-x.imag[N]*b.imag[N],E[N]=x.real[N]*b.imag[N]+x.imag[N]*b.real[N];var I=it.ifft(M,E);return I.real.splice(u-1),I.imag.splice(u-1),I}}var A=!it.isContainsZero(e);A&&(A=!it.isContainsZero(r));for(var C=new Array(t.length+n.length-1),F=new Array(t.length+n.length-1),S=0;S<C.length;S++)C[S]=0,F[S]=0;if(A)for(var O=0;O<n.length;O++)for(var T=0;T<t.length;T++)C[O+T]+=t[T]*n[O];else for(var D=0;D<n.length;D++)for(var R=0;R<t.length;R++)C[D+R]+=t[R]*n[D]-e[R]*r[D],F[D+R]+=t[R]*r[D]+e[R]*n[D];return{real:C,imag:F}},it.xcorr=function(t,e,n,r){var i=!1;if(t.length===n.length){i=!0;for(var o=0;o<t.length;o++)if(t[o]!==n[o]||e[o]!==r[o]){i=!1;break}}if(t.length===n.length){var a=t.length,u=2*a;if(1<<Math.round(Math.log(a)/Math.log(2))===a){var s=null;if(i){for(var l=new Array(u),h=new Array(u),c=0;c<u;c++)l[c]=c<a?t[c]:0,h[c]=c<a?e[c]:0;var f=it.powerfft(l,h);s=it.ifft(f,h),l.pop(),h.pop();for(var g=0,_=a+1;g<l.length;g++,_++)u<=_&&(_=0),l[g]=s.real[_],h[g]=s.imag[_];return{real:l,imag:h}}for(var m=new Array(u),p=new Array(u),v=new Array(u),d=new Array(u),y=0;y<u;y++)m[y]=y<a?t[y]:0,p[y]=y<a?e[y]:0,v[y]=y<a?n[a-y-1]:0,d[y]=y<a?-r[a-y-1]:0;for(var w=it.fft(m,p),x=it.fft(v,d),b=new Array(u),M=new Array(u),E=0;E<u;E++)b[E]=w.real[E]*x.real[E]-w.imag[E]*x.imag[E],M[E]=w.real[E]*x.imag[E]+w.imag[E]*x.real[E];return(s=it.ifft(b,M)).real.splice(u-1),s.imag.splice(u-1),s}}var N=!it.isContainsZero(e);if(N&&(N=!it.isContainsZero(r)),i){var I=t.length,A=2*I;if(N){for(var C=new Array(I),F=0;F<I;F++)for(var S=I-F,O=C[F]=0;O<S;O++)C[F]+=t[O]*n[O+F];for(var T=new Array(A-1),D=new Array(A-1),R=0,L=I-1;R<I;R++,L--)T[R]=C[L],T[I+R-1]=C[R];for(var z=0;z<D.length;z++)D[z]=0;return{real:T,imag:D}}}for(var P=new Array(n.length),B=new Array(n.length),V=0;V<n.length;V++)P[V]=n[n.length-V-1],B[V]=-r[n.length-V-1];return it.conv(t,e,P,B)},it.window=function(t,e,n){var r,i=t.toLocaleLowerCase(),a=e,u=new Array(a),s=function(t){return n?t/a*(2*Math.PI):t/(a-1)*(2*Math.PI)},o=function(t,e,n,r,i){for(var o=0;o<a;o++)u[o]=t,u[o]-=e*Math.cos(1*s(o)),u[o]+=n*Math.cos(2*s(o)),u[o]-=r*Math.cos(3*s(o)),u[o]+=i*Math.cos(4*s(o))};switch(i){case"rectangle":o(1,0,0,0,0);break;case"hann":o(.5,.5,0,0,0);break;case"hamming":o(.54,.46,0,0,0);break;case"blackman":o(.42,.5,.08,0,0);break;case"blackmanharris":o(.35875,.48829,.14128,.01168,0);break;case"blackmannuttall":o(.3635819,.4891775,.1365995,.0106411,0);break;case"flattop":o(1,1.93,1.29,.388,.032);break;case"lanczos":for(var l=0;l<a;l++)u[l]=0===(r=s(l)-1)?1:Math.sin(r)/r;break;case"sin":for(var h=0;h<a;h++)u[h]=Math.sin(.5*s(h));break;case"vorbis":for(var c=0;c<a;c++){var f=Math.sin(.5*s(c));u[c]=Math.sin(.5*Math.PI*f*f)}}return u},it.hann=function(t,e){return it.window("hann",t,e)},it.hamming=function(t,e){return it.window("hamming",t,e)};var ot=function(){};ot.fft=function(t,e){void 0===e&&(e=!1);var n=ut._toMatrix(t),r=function(t){for(var e=new Array(t.length),n=new Array(t.length),r=0;r<t.length;r++)e[r]=t[r].real,n[r]=t[r].imag;for(var i=it.fft(e,n),o=new Array(t.length),a=0;a<t.length;a++)o[a]=new U([i.real[a],i.imag[a]]);return o};return e?n.__column_oriented_2_dimensional_processing(r):n.__column_oriented_1_dimensional_processing(r)},ot.ifft=function(t,e){void 0===e&&(e=!1);var n=ut._toMatrix(t),r=function(t){for(var e=new Array(t.length),n=new Array(t.length),r=0;r<t.length;r++)e[r]=t[r].real,n[r]=t[r].imag;for(var i=it.ifft(e,n),o=new Array(t.length),a=0;a<t.length;a++)o[a]=new U([i.real[a],i.imag[a]]);return o};return e?n.__column_oriented_2_dimensional_processing(r):n.__column_oriented_1_dimensional_processing(r)},ot.powerfft=function(t){return ut._toMatrix(t).__column_oriented_1_dimensional_processing(function(t){for(var e=new Array(t.length),n=new Array(t.length),r=0;r<t.length;r++)e[r]=t[r].real,n[r]=t[r].imag;for(var i=it.powerfft(e,n),o=new Array(t.length),a=0;a<t.length;a++)o[a]=new U([i.real[a],i.imag[a]]);return o})},ot.dct=function(t,e){void 0===e&&(e=!1);var n=ut._toMatrix(t);if(n.isComplex())throw"dct don't support complex numbers.";var r=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n].real;for(var r=it.dct(e),i=new Array(t.length),o=0;o<t.length;o++)i[o]=new U(r[o]);return i};return e?n.__column_oriented_2_dimensional_processing(r):n.__column_oriented_1_dimensional_processing(r)},ot.idct=function(t,e){void 0===e&&(e=!1);var n=ut._toMatrix(t);if(n.isComplex())throw"idct don't support complex numbers.";var r=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n].real;for(var r=it.idct(e),i=new Array(t.length),o=0;o<t.length;o++)i[o]=new U(r[o]);return i};return e?n.__column_oriented_2_dimensional_processing(r):n.__column_oriented_1_dimensional_processing(r)},ot.fft2=function(t){return ut._toMatrix(t).fft(!0)},ot.ifft2=function(t){return ut._toMatrix(t).ifft(!0)},ot.dct2=function(t){return ut._toMatrix(t).dct2(!0)},ot.idct2=function(t){return ut._toMatrix(t).idct(!0)},ot.conv=function(t,e){var n=ut._toMatrix(t),r=ut._toMatrix(e);if(n.isMatrix()||r.isMatrix())throw"conv don't support matrix numbers.";var i=new Array(n.length),o=new Array(n.length),a=new Array(r.length),u=new Array(r.length);if(n.isRow())for(var s=0;s<n.column_length;s++)i[s]=n.matrix_array[0][s].real,o[s]=n.matrix_array[0][s].imag;else for(var l=0;l<n.row_length;l++)i[l]=n.matrix_array[l][0].real,o[l]=n.matrix_array[l][0].imag;if(r.isRow())for(var h=0;h<r.column_length;h++)a[h]=r.matrix_array[0][h].real,u[h]=r.matrix_array[0][h].imag;else for(var c=0;c<r.row_length;c++)a[c]=r.matrix_array[c][0].real,u[c]=r.matrix_array[c][0].imag;for(var f=it.conv(i,o,a,u),g=new Array(f.real.length),_=0;_<f.real.length;_++)g[_]=new U([f.real[_],f.imag[_]]);var m=new ut([g]);return r.isRow()?m:m.transpose()},ot.xcorr=function(t,e){var n=ut._toMatrix(t);if(!e)return n.xcorr(n);var r=ut._toMatrix(e);if(n.isMatrix()||r.isMatrix())throw"conv don't support matrix numbers.";var i=new Array(n.length),o=new Array(n.length),a=new Array(r.length),u=new Array(r.length);if(n.isRow())for(var s=0;s<n.column_length;s++)i[s]=n.matrix_array[0][s].real,o[s]=n.matrix_array[0][s].imag;else for(var l=0;l<n.row_length;l++)i[l]=n.matrix_array[l][0].real,o[l]=n.matrix_array[l][0].imag;if(r.isRow())for(var h=0;h<r.column_length;h++)a[h]=r.matrix_array[0][h].real,u[h]=r.matrix_array[0][h].imag;else for(var c=0;c<r.row_length;c++)a[c]=r.matrix_array[c][0].real,u[c]=r.matrix_array[c][0].imag;for(var f=it.xcorr(i,o,a,u),g=new Array(f.real.length),_=0;_<f.real.length;_++)g[_]=new U([f.real[_],f.imag[_]]);var m=new ut([g]);return n.isRow()?m:m.transpose()},ot.window=function(t,e,n){var r=ut._toInteger(e),i=it.window(t,r,n);return new ut(i).transpose()},ot.hann=function(t,e){return it.window("hann",t,e)},ot.hamming=function(t,e){return it.window("hamming",t,e)};var at={match2:function(t,e){for(var n=[],r=t,i=!0,o=0;o<1e3;o++){if(null===(i=r.match(e))){r.length&&n.push([!1,r]);break}0<i.index&&n.push([!1,r.substr(0,i.index)]),n.push([!0,i[0]]),r=r.substr(i.index+i[0].length)}return n},trimBracket:function(t){return/^\[/.test(t)&&/\]$/.test(t)?t.substring(1,t.length-1):null},toMatrixFromStringForArrayJSON:function(t){var e=[],n=t.match(/\[[^\]]+\]/g);null===n&&(n=[t]);for(var r=0;r<n.length;r++){for(var i=n[r],o=i.substring(1,i.length-1).split(","),a=[],u=0;u<o.length;u++){var s=o[u];a[u]=new U(s)}e[r]=a}return e},InterpolationCalculation:function(t,e,n){var r=n.compareTo(t);if(0===r)return t;if(e.isZero())throw"IllegalArgumentException";if(e.isNegative()&&-1===r)throw"IllegalArgumentException";var i=[],o=t;i[0]=o;for(var a=1;a<65536&&(o=o.add(e)).compareTo(n)!==r;a++)i[a]=o;return i},toArrayFromString:function(t){if(":"===t.trim())return":";for(var e=new RegExp("("+/[+-]? *([0-9]+(\.[0-9]+)?(e[+-]?[0-9]+)?)?[ij]( *[+] *[- ]?([0-9]+(\.[0-9]+)?(e[+-]?[0-9]+)?)?)?/.source+")|("+/[+-]? *[0-9]+(\.[0-9]+)?(e[+-]?[0-9]+)?( *[+-] *[- ]?([0-9]+(\.[0-9]+)?(e[+-]?[0-9]+)?)?[ij])?/.source+")","i"),n=at.match2(t,e),r=[],i=0;i<n.length;i++){var o=n[i];if(o[0])if(i<n.length-2&&!n[i+1][0]&&/:/.test(n[i+1][1])){var a=void 0,u=void 0,s=void 0;i<n.length-4&&!n[i+3][0]&&/:/.test(n[i+3][1])?(a=new U(o[1]),u=new U(n[i+2][1]),s=new U(n[i+4][1]),i+=4):(a=new U(o[1]),u=U.ONE,s=new U(n[i+2][1]),i+=2);for(var l=at.InterpolationCalculation(a,u,s),h=0;h<l.length;h++)r.push(l[h])}else r.push(new U(o[1]))}return r},toMatrixFromStringForArrayETC:function(t){for(var e=t.split(";"),n=new Array(e.length),r=0;r<e.length;r++)n[r]=at.toArrayFromString(e[r]);return n},toMatrixFromStringForArray:function(t){return/[[\],]/.test(t)?at.toMatrixFromStringForArrayJSON(t):at.toMatrixFromStringForArrayETC(t)},toMatrixFromString:function(t){var e=t.replace(/^\s*|\s*$/g,""),n=at.trimBracket(e);return n?at.toMatrixFromStringForArray(n):[[new U(t)]]},isCorrectMatrixArray:function(t){if(0===t.length)return!1;var e=t[0].length;if(0===e)return!1;for(var n=1;n<t.length;n++)if(t[n].length!==e)return!1;return!0}},ut=function t(e){var n=null,r=!1;if(1!==arguments.length)throw"Matrix : Many arguments ["+arguments.length+"]";var i=e;if(i instanceof t){n=new Array(i.row_length);for(var o=0;o<i.row_length;o++){n[o]=new Array(i.column_length);for(var a=0;a<i.column_length;a++)n[o][a]=i.matrix_array[o][a]}}else if(i instanceof U)n=[[i]];else if(i instanceof Array){n=[];for(var u=0;u<i.length;u++){var s=i[u];if(s instanceof Array){for(var l=new Array(s.length),h=0;h<s.length;h++){var c=s[h];if(c instanceof U)l[h]=c;else if(c instanceof t){if(!c.isScalar())throw"Matrix in matrix";l[h]=c.scalar}else l[h]=new U(c)}n[u]=l}else if(0===u&&(n[0]=new Array(i.length)),s instanceof U)n[0][u]=s;else if(s instanceof t){if(!s.isScalar())throw"Matrix in matrix";n[0][u]=s.scalar}else n[0][u]=new U(s)}}else n="string"==typeof i||i instanceof String?(r=!0,at.toMatrixFromString(i)):i instanceof Object&&i.toString?(r=!0,at.toMatrixFromString(i.toString())):[[new U(i)]];if(r)for(var f=0;f<n.length;f++)":"===n[f]&&n.splice(f--,1);if(!at.isCorrectMatrixArray(n))throw"new Matrix IllegalArgumentException";this.matrix_array=n,this.row_length=this.matrix_array.length,this.column_length=this.matrix_array[0].length,this.string_cash=null},st={intValue:{configurable:!0},doubleValue:{configurable:!0},scalar:{configurable:!0},length:{configurable:!0},norm1:{configurable:!0},norm2:{configurable:!0}};ut.create=function(t){return 1===arguments.length&&t instanceof ut?t:new ut(t)},ut.valueOf=function(t){return ut.valueOf(t)},ut._toMatrix=function(t){return t instanceof ut?t:new ut(t)},ut._toComplex=function(t){if(t instanceof U)return t;var e=ut._toMatrix(t);if(e.isScalar())return e.scalar;throw"not scalar."},ut._toFloat=function(t){if("number"==typeof t||t instanceof Number)return t;if(ut._toComplex(t).isReal())return new U(t).real;throw"not support complex numbers."},ut._toInteger=function(t){return 0|ut._toFloat(t)},ut.prototype._clearCash=function(){this.string_cash&&delete this.string_cash},ut.prototype.clone=function(){return new ut(this.matrix_array)},ut.prototype.toString=function(){if(this.string_cash)return this.string_cash;var e=Math.pow(10,9),o=!1,r=!1,i=0;this._each(function(t){t.isReal()||(o=!0),Math.abs(t.real)>=e&&(r=!0),Math.abs(t.imag)>=e&&(r=!0),i=Math.max(i,t.getDecimalPosition())}),0<i&&(i=4);var a=0,u=[],s=function(t){if(!r)return t.toFixed(i);var e=t.toExponential(4).split("e"),n=e[1];return 2===n.length?n=n.substr(0,1)+"00"+n.substr(1):3===n.length&&(n=n.substr(0,1)+"0"+n.substr(1)),e[0]+"e"+n};this._each(function(t){var e={},n=t.real;if(e.re_sign=n<0?"-":" ",n=Math.abs(n),e.re_str=s(n),a=Math.max(a,e.re_str.length+1),o){var r=t.imag;e.im_sign=r<0?"-":"+",r=Math.abs(r),e.im_str=s(r),a=Math.max(a,e.im_str.length+1)}u.push(e)});var l=function(t,e){return"                                        ".substr(0,e-t.length)+t},h=[],c=this;return this._each(function(t,e,n){var r=u.shift(),i=l(r.re_sign+r.re_str,a);o&&(i+=" "+r.im_sign+l(r.im_str,a)+"i"),h.push(i),h.push(n<c.column_length-1?" ":"\n")}),this.string_cash=h.join(""),this.string_cash},ut.prototype.equals=function(t,e){var n=this,r=ut._toMatrix(t);if(n.row_length!==r.row_length||n.column_length!==r.column_length)return!1;if(1===n.row_length||1===n.column_length)return n.scalar.equals(r.scalar);for(var i=n.matrix_array,o=r.matrix_array,a=0;a<this.row_length;a++)for(var u=0;u<this.column_length;u++)if(!i[a][u].equals(o[a][u],e))return!1;return!0},ut.prototype.getNumberMatrixArray=function(){for(var t=new Array(this.row_length),e=0;e<this.row_length;e++){t[e]=new Array(this.column_length);for(var n=0;n<this.column_length;n++)t[e][n]=this.matrix_array[e][n].real}return t},ut.prototype.getComplexMatrixArray=function(){for(var t=new Array(this.row_length),e=0;e<this.row_length;e++){t[e]=new Array(this.column_length);for(var n=0;n<this.column_length;n++)t[e][n]=this.matrix_array[e][n]}return t},ut.prototype._each=function(t){for(var e=!1,n=0;n<this.row_length;n++)for(var r=0;r<this.column_length;r++){var i=t(this.matrix_array[n][r],n,r);void 0!==i&&(this.matrix_array[n][r]=i instanceof U?i:i instanceof ut?i.scalar:new U(i),e=!0)}return e&&this._clearCash(),this},ut.prototype.cloneMatrixDoEachCalculation=function(t){return this.clone()._each(t)},ut.createMatrixDoEachCalculation=function(t,e,n){if(0===arguments.length||3<arguments.length)throw"IllegalArgumentException";for(var r=ut._toInteger(e),i=n?ut._toInteger(n):r,o=new Array(r),a=0;a<r;a++){o[a]=new Array(i);for(var u=0;u<i;u++){var s=t(a,u);o[a][u]=void 0===s?U.ZERO:ut._toComplex(s)}}return new ut(o)},ut.prototype.__column_oriented_1_dimensional_processing=function(t){if(this.isRow()){for(var e=new Array(this.row_length),n=0;n<this.column_length;n++)e[n]=this.matrix_array[0][n];return new ut(t(e))}var r=new ut(0);r._resize(1,this.column_length);for(var i=0;i<this.column_length;i++){for(var o=new Array(this.row_length),a=0;a<this.row_length;a++)o[a]=this.matrix_array[a][i];var u=t(o);r._resize(Math.max(r.row_length,u.length),r.column_length);for(var s=0;s<u.length;s++)r.matrix_array[s][i]=u[s]}return r},ut.prototype.__column_oriented_2_dimensional_processing=function(t){var e=new ut(0);e._resize(this.row_length,1);for(var n=0;n<this.row_length;n++){for(var r=new Array(this.row_length),i=0;i<this.column_length;i++)r[i]=this.matrix_array[0][i];var o=t(r);e._resize(e.row_length,Math.max(e.column_length,o.length));for(var a=0;a<o.length;a++)e.matrix_array[n][a]=o[a]}for(var u=0;u<e.column_length;u++){for(var s=new Array(e.row_length),l=0;l<e.row_length;l++)s[l]=e.matrix_array[l][u];var h=t(s);e._resize(Math.max(e.row_length,h.length),e.column_length);for(var c=0;c<h.length;c++)e.matrix_array[c][u]=h[c]}return e},ut.prototype.getComplex=function(r,t){var e=null,n=null;e="string"==typeof r||r instanceof String?new ut(r):r,2===arguments.length&&(n="string"==typeof t||t instanceof String?new ut(t):t);var i=function(t){var e,n=!1;return"number"==typeof r||r instanceof Number?(e=Math.round(t),n=!0):r instanceof U?(e=Math.round(t.real),n=!0):r instanceof ut&&r.isScalar()&&(e=Math.round(t.doubleValue),n=!0),{number:e,is_scalar:n}},o=!0,a=null,u=null;if(1===arguments.length?o&=(a=i(e)).is_scalar:2===arguments.length&&(o&=(a=i(e)).is_scalar,o&=(u=i(n)).is_scalar),o)return this.isRow()?this.matrix_array[0][a.number]:this.isColumn()?this.matrix_array[a.number][0]:this.matrix_array[a.number][u.number];throw"getComplex not scalar : "+this},st.intValue.get=function(){return 0|this.matrix_array[0][0].real},st.doubleValue.get=function(){return this.matrix_array[0][0].real},st.scalar.get=function(){return this.matrix_array[0][0]},st.length.get=function(){return this.row_length>this.column_length?this.row_length:this.column_length},st.norm1.get=function(){return G.norm(this,1)},st.norm2.get=function(){return G.norm(this,2)},ut.prototype.norm=function(t){return G.norm(this,t)},ut.memset=function(t,e,n){if(0===arguments.length||3<arguments.length)throw"IllegalArgumentException";if(t instanceof ut&&!t.isScalar()){var r=t.matrix_array,i=t.row_length,o=t.column_length;return ut.createMatrixDoEachCalculation(function(t,e){return r[t%i][e%o]},e,n)}var a=ut._toComplex(t);return ut.createMatrixDoEachCalculation(function(){return a},e,n)},ut.eye=function(t,e){return ut.createMatrixDoEachCalculation(function(t,e){return t===e?U.ONE:U.ZERO},t,e)},ut.zeros=function(t,e){if(0===arguments.length||2<arguments.length)throw"IllegalArgumentException";return ut.memset(U.ZERO,t,e)},ut.ones=function(t,e){if(0===arguments.length||2<arguments.length)throw"IllegalArgumentException";return ut.memset(U.ONE,t,e)},ut.rand=function(t,e){return ut.createMatrixDoEachCalculation(function(){return U.rand()},t,e)},ut.randn=function(t,e){return ut.createMatrixDoEachCalculation(function(){return U.randn()},t,e)},ut.prototype.diag=function(){if(this.isVector()){var n=this;return ut.createMatrixDoEachCalculation(function(t,e){return t===e?n.getComplex(t):U.ZERO},this.length)}for(var t=Math.min(this.row_length,this.column_length),e=new Array(t),r=0;r<t;r++)e[r]=new Array(1),e[r][0]=this.matrix_array[r][r];return new ut(e)},ut.prototype.isScalar=function(){return 1===this.row_length&&1==this.column_length},ut.prototype.isRow=function(){return 1===this.row_length},ut.prototype.isColumn=function(){return 1===this.column_length},ut.prototype.isVector=function(){return 1===this.row_length||1===this.column_length},ut.prototype.isMatrix=function(){return 1!==this.row_length&&1!==this.column_length},ut.prototype.isSquare=function(){return this.row_length===this.column_length},ut.prototype.isReal=function(e){var n=!0;return this._each(function(t){n&&t.isComplex(e)&&(n=!1)}),n},ut.prototype.isComplex=function(e){var n=!0;return this._each(function(t){n&&t.isReal(e)&&(n=!1)}),n},ut.prototype.isZeros=function(t){var e=!0,n=t||1e-10;return this._each(function(t){e&&!t.isZero(n)&&(e=!1)}),e},ut.prototype.isIdentity=function(t){if(!this.isDiagonal())return!1;for(var e=t||1e-10,n=0;n<this.row_length;n++)if(!this.matrix_array[n][n].isOne(e))return!1;return!0},ut.prototype.isDiagonal=function(t){var r=!0,i=t||1e-10;return this._each(function(t,e,n){r&&e!==n&&!t.isZero(i)&&(r=!1)}),r},ut.prototype.isTridiagonal=function(t){if(!this.isSquare())return!1;var r=!0,i=t||1e-10;return this._each(function(t,e,n){r&&1<Math.abs(e-n)&&!t.isZero(i)&&(r=!1)}),r},ut.prototype.isRegular=function(t){if(!this.isSquare())return!1;var e=t||1e-10;return this.rank(1e-10).equals(this.row_length,e)},ut.prototype.isOrthogonal=function(t){if(!this.isSquare())return!1;var e=t||1e-10;return this.mul(this.transpose()).isIdentity(e)},ut.prototype.isUnitary=function(t){if(!this.isSquare())return!1;var e=t||1e-10;return this.mul(this.ctranspose()).isIdentity(e)},ut.prototype.isSymmetric=function(t){if(!this.isSquare())return!1;for(var e=t||1e-10,n=0;n<this.row_length;n++)for(var r=n+1;r<this.column_length;r++)if(!this.matrix_array[n][r].equals(this.matrix_array[r][n],e))return!1;return!0},ut.prototype.isHermitian=function(t){if(!this.isSquare())return!1;for(var e=t||1e-10,n=0;n<this.row_length;n++)for(var r=n;r<this.column_length;r++)if(n===r){if(!this.matrix_array[n][r].isReal(e))return!1}else if(!this.matrix_array[n][r].equals(this.matrix_array[r][n].conj(),e))return!1;return!0},ut.prototype.size=function(){return new ut([[this.row_length,this.column_length]])},ut.prototype.compareTo=function(t,e){var n=this,r=ut._toMatrix(t);if(n.isScalar()&&r.isScalar())return n.scalar.compareTo(r.scalar,e);var i=n.matrix_array,o=r.matrix_array,a=Math.max(n.row_length,r.row_length),u=Math.max(n.column_length,r.column_length);return ut.createMatrixDoEachCalculation(function(t,e){return i[t%n.row_length][e%n.column_length].compareTo(o[t%r.row_length][e%r.column_length])},a,u)},ut.prototype.max=function(r){return this.__column_oriented_1_dimensional_processing(function(t){for(var e=t[0],n=1;n<t.length;n++)0<e.compareTo(t[n],r)&&(e=t[n]);return[e]})},ut.prototype.min=function(r){return this.__column_oriented_1_dimensional_processing(function(t){for(var e=t[0],n=1;n<t.length;n++)e.compareTo(t[n],r)<0&&(e=t[n]);return[e]})},ut.prototype.add=function(t){var n=this,r=ut._toMatrix(t);if(n.row_length!==r.row_length&&n.column_length!==r.column_length)throw"Matrix size does not match";var i=n.matrix_array,o=r.matrix_array,e=Math.max(n.row_length,r.row_length),a=Math.max(n.column_length,r.column_length);return ut.createMatrixDoEachCalculation(function(t,e){return i[t%n.row_length][e%n.column_length].add(o[t%r.row_length][e%r.column_length])},e,a)},ut.prototype.sub=function(t){var n=this,r=ut._toMatrix(t);if(n.row_length!==r.row_length&&n.column_length!==r.column_length)throw"Matrix size does not match";var i=n.matrix_array,o=r.matrix_array,e=Math.max(n.row_length,r.row_length),a=Math.max(n.column_length,r.column_length);return ut.createMatrixDoEachCalculation(function(t,e){return i[t%n.row_length][e%n.column_length].sub(o[t%r.row_length][e%r.column_length])},e,a)},ut.prototype.mul=function(t){var e=this,n=ut._toMatrix(t),r=e.matrix_array,i=n.matrix_array;if(e.isScalar()&&n.isScalar())return new ut(r.scalar.mul(i.scalar));if(e.isScalar()){for(var o=new Array(n.row_length),a=0;a<n.row_length;a++){o[a]=new Array(n.column_length);for(var u=0;u<n.column_length;u++)o[a][u]=e.scalar.mul(i[a][u])}return new ut(o)}if(n.isScalar()){for(var s=new Array(e.row_length),l=0;l<e.row_length;l++){s[l]=new Array(e.column_length);for(var h=0;h<e.column_length;h++)s[l][h]=r[l][h].mul(n.scalar)}return new ut(s)}if(e.column_length!==n.row_length)throw"Matrix size does not match";for(var c=new Array(e.row_length),f=0;f<e.row_length;f++){c[f]=new Array(n.column_length);for(var g=0;g<n.column_length;g++){for(var _=U.ZERO,m=0;m<e.column_length;m++)_=_.add(r[f][m].mul(i[m][g]));c[f][g]=_}}return new ut(c)},ut.prototype.div=function(t){var e=this,n=ut._toMatrix(t),r=e.matrix_array,i=n.matrix_array;if(e.isScalar()&&n.isScalar())return new ut(r.scalar.div(i.scalar));if(n.isScalar()){for(var o=new Array(e.row_length),a=0;a<e.row_length;a++){o[a]=new Array(e.column_length);for(var u=0;u<e.column_length;u++)o[a][u]=r[a][u].div(n.scalar)}return new ut(o)}if(n.row_length===n.column_length)return this.mul(n.inv());if(e.column_length!==n.column_length)throw"Matrix size does not match";throw"warning"},ut.prototype.nmul=function(t){var n=this,r=ut._toMatrix(t);if(n.row_length!==r.row_length&&n.column_length!==r.column_length)throw"Matrix size does not match";var i=n.matrix_array,o=r.matrix_array,e=Math.max(n.row_length,r.row_length),a=Math.max(n.column_length,r.column_length);return ut.createMatrixDoEachCalculation(function(t,e){return i[t%n.row_length][e%n.column_length].mul(o[t%r.row_length][e%r.column_length])},e,a)},ut.prototype.ndiv=function(t){var n=this,r=ut._toMatrix(t);if(n.row_length!==r.row_length&&n.column_length!==r.column_length)throw"Matrix size does not match";var i=n.matrix_array,o=r.matrix_array,e=Math.max(n.row_length,r.row_length),a=Math.max(n.column_length,r.column_length);return ut.createMatrixDoEachCalculation(function(t,e){return i[t%n.row_length][e%n.column_length].div(o[t%r.row_length][e%r.column_length])},e,a)},ut.prototype.real=function(){return this.cloneMatrixDoEachCalculation(function(t){return new U(t.real)})},ut.prototype.imag=function(){return this.cloneMatrixDoEachCalculation(function(t){return new U(t.imag)})},ut.prototype.angle=function(){return this.cloneMatrixDoEachCalculation(function(t){return new U(t.angle)})},ut.prototype.sign=function(){return this.cloneMatrixDoEachCalculation(function(t){return new U(t.sign())})},ut.prototype.testInteger=function(e){return this.cloneMatrixDoEachCalculation(function(t){return t.isInteger(e)?U.ONE:U.ZERO})},ut.prototype.testComplexInteger=function(e){return this.cloneMatrixDoEachCalculation(function(t){return t.isComplexInteger(e)?U.ONE:U.ZERO})},ut.prototype.testZero=function(e){return this.cloneMatrixDoEachCalculation(function(t){return t.isZero(e)?U.ONE:U.ZERO})},ut.prototype.testOne=function(e){return this.cloneMatrixDoEachCalculation(function(t){return t.isOne(e)?U.ONE:U.ZERO})},ut.prototype.testComplex=function(e){return this.cloneMatrixDoEachCalculation(function(t){return t.isComplex(e)?U.ONE:U.ZERO})},ut.prototype.testReal=function(e){return this.cloneMatrixDoEachCalculation(function(t){return t.isReal(e)?U.ONE:U.ZERO})},ut.prototype.testNaN=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.isNaN()?U.ONE:U.ZERO})},ut.prototype.testPositive=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.isPositive()?U.ONE:U.ZERO})},ut.prototype.testNegative=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.isNegative()?U.ONE:U.ZERO})},ut.prototype.testNotNegative=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.isNotNegative()?U.ONE:U.ZERO})},ut.prototype.testInfinite=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.isInfinite()?U.ONE:U.ZERO})},ut.prototype.testFinite=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.isFinite()?U.ONE:U.ZERO})},ut.prototype.abs=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.abs()})},ut.prototype.conj=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.conj()})},ut.prototype.negate=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.negate()})},ut.prototype.sqrt=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.sqrt()})},ut.prototype.pow=function(t){var e=ut._toComplex(t);return this.cloneMatrixDoEachCalculation(function(t){return t.pow(e)})},ut.prototype.log=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.log()})},ut.prototype.exp=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.exp()})},ut.prototype.sin=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.sin()})},ut.prototype.cos=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.cos()})},ut.prototype.tan=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.tan()})},ut.prototype.atan=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.atan()})},ut.prototype.atan2=function(t){var e=ut._toComplex(t);return this.cloneMatrixDoEachCalculation(function(t){return t.atan2(e)})},ut.prototype.floor=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.floor()})},ut.prototype.ceil=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.ceil()})},ut.prototype.round=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.round()})},ut.prototype.fix=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.fix()})},ut.prototype.fract=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.fract()})},ut.prototype.sinc=function(){return this.cloneMatrixDoEachCalculation(function(t){return t.sinc()})},ut.prototype._rot90=function(t){var e=ut._toInteger(t),n=1;if(1===arguments.length&&(n=(e%4+4)%4),0===n)return this;for(var r=new Array(this.row_length),i=0;i<this.row_length;i++){r[i]=new Array(this.column_length);for(var o=0;o<this.column_length;o++)r[i][o]=this.matrix_array[i][o]}var a=this.matrix_array;if(1===n){a.splice(this.column_length);for(var u=0;u<this.column_length;u++){u<this.row_length?a[u].splice(this.row_length):a[u]=new Array(this.row_length);for(var s=0;s<this.row_length;s++)a[u][s]=r[this.row_length-s-1][u]}}else if(2===n)for(var l=0;l<this.row_length;l++)for(var h=0;h<this.column_length;h++)a[l][h]=r[this.row_length-l-1][this.column_length-h-1];else if(3===n){a.splice(this.column_length);for(var c=0;c<this.column_length;c++){c<this.row_length?a[c].splice(this.row_length):a[c]=new Array(this.row_length);for(var f=0;f<this.row_length;f++)a[c][f]=r[f][this.column_length-c-1]}}return this.row_length=a.length,this.column_length=a[0].length,this._clearCash(),this},ut.prototype._resize=function(t,e){if(t===this.row_length&&e===this.column_length)return this;if(t<=0||e<=0)throw"_resize";for(var n=Math.max(this.row_length,t),r=Math.max(this.column_length,e),i=this.matrix_array,o=0;o<n;o++){o>=this.row_length&&(i[o]=new Array(r));for(var a=0;a<r;a++)(o>=this.row_length||a>=this.column_length)&&(i[o][a]=U.ZERO)}if(this.row_length>t&&i.splice(t),this.column_length>e)for(var u=0;u<i.length;u++)i[u].splice(e);return this.row_length=t,this.column_length=e,this._clearCash(),this},ut.prototype._delete_row=function(t){if(1===this.row_length||this.row_length<=t)throw"_delete_row";return this.matrix_array.splice(t,1),this.row_length--,this._clearCash(),this},ut.prototype._delete_column=function(t){if(1===this.column_length||this.column_length<=t)throw"_delete_column";for(var e=0;e<this.row_length;e++)this.matrix_array[e].splice(t,1);return this.column_length--,this._clearCash(),this},ut.prototype._exchange_row=function(t,e){if(1===this.row_length||this.row_length<=t||this.row_length<=e)throw"_exchange_row";if(t===e)return this;var n=this.matrix_array[t];return this.matrix_array[t]=this.matrix_array[e],this.matrix_array[e]=n,this._clearCash(),this},ut.prototype._exchange_column=function(t,e){if(1===this.column_length||this.column_length<=t||this.column_length<=e)throw"_exchange_column";if(t===e)return this;for(var n=0;n<this.row_length;n++){var r=this.matrix_array[n][t];this.matrix_array[n][t]=this.matrix_array[n][e],this.matrix_array[n][e]=r}return this._clearCash(),this},ut.prototype._concat_left=function(t){for(var e=ut._toMatrix(t),n=0;n<this.row_length;n++)for(var r=0;r<e.column_length;r++)this.matrix_array[n].push(e.matrix_array[n][r]);return this.column_length+=e.column_length,this._clearCash(),this},ut.prototype._concat_bottom=function(t){for(var e=ut._toMatrix(t),n=0;n<e.row_length;n++)this.matrix_array.push(e.matrix_array[n]);return this.row_length+=e.row_length,this._clearCash(),this},ut.prototype.transpose=function(){for(var t=new Array(this.column_length),e=0;e<this.column_length;e++){t[e]=new Array(this.row_length);for(var n=0;n<this.row_length;n++)t[e][n]=this.matrix_array[n][e]}return new ut(t)},ut.prototype.ctranspose=function(){return this.transpose().conj()},ut.prototype.T=function(){return this.ctranspose()},ut.prototype.rank=function(t){return G.rank(this,t)},ut.prototype.inner=function(t,e){return void 0===e&&(e=1),G.inner(this,t,e)},ut.prototype.det=function(){return G.det(this)},ut.prototype.lup=function(){return G.lup(this)},ut.prototype.linsolve=function(t){return G.linsolve(this,t)},ut.prototype.qr=function(){return G.qr(this)},ut.prototype.tridiagonalize=function(){return G.tridiagonalize(this)},ut.prototype.eig=function(){return G.eig(this)},ut.prototype.svd=function(){return G.svd(this)},ut.prototype.inv=function(){return G.inv(this)},ut.prototype.pinv=function(){return G.pinv(this)},ut.prototype.gammaln=function(){return J.gammaln(this)},ut.prototype.gamma=function(){return J.gamma(this)},ut.prototype.gammainc=function(t,e){return J.gammainc(this,t,e)},ut.prototype.gampdf=function(t,e){return J.gampdf(this,t,e)},ut.prototype.gamcdf=function(t,e){return J.gampdf(this,t,e)},ut.prototype.gaminv=function(t,e){return J.gaminv(this,t,e)},ut.prototype.beta=function(t){return J.beta(this,t)},ut.prototype.betainc=function(t,e,n){return J.betainc(this,t,e,n)},ut.prototype.betacdf=function(t,e){return J.betacdf(this,t,e)},ut.prototype.betapdf=function(t,e){return J.betapdf(this,t,e)},ut.prototype.betainv=function(t,e){return J.betainv(this,t,e)},ut.prototype.factorial=function(){return J.factorial(this)},ut.prototype.nchoosek=function(t){return J.nchoosek(this,t)},ut.prototype.erf=function(){return J.erf(this)},ut.prototype.erfc=function(){return J.erfc(this)},ut.prototype.normpdf=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),J.normpdf(this,t,e)},ut.prototype.normcdf=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),J.normcdf(this,t,e)},ut.prototype.norminv=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),J.norminv(this,t,e)},ut.prototype.tpdf=function(t){return J.tpdf(this,t)},ut.prototype.tcdf=function(t){return J.tcdf(this,t)},ut.prototype.tinv=function(t){return J.tinv(this,t)},ut.prototype.tdist=function(t,e){return J.tdist(this,t,e)},ut.prototype.tinv2=function(t){return J.tinv2(this,t)},ut.prototype.chi2pdf=function(t){return J.chi2pdf(this,t)},ut.prototype.chi2cdf=function(t){return J.chi2cdf(this,t)},ut.prototype.chi2inv=function(t){return J.chi2inv(this,t)},ut.prototype.fpdf=function(t,e){return J.fpdf(this,t,e)},ut.prototype.fcdf=function(t,e){return J.fcdf(this,t,e)},ut.prototype.finv=function(t,e){return J.finv(this,t,e)},ut.prototype.sum=function(){return J.sum(this)},ut.prototype.mean=function(){return J.mean(this)},ut.prototype.geomean=function(){return J.geomean(this)},ut.prototype.var=function(t){return void 0===t&&(t=0),J.var(this,t)},ut.prototype.std=function(t){return void 0===t&&(t=0),J.std(this,t)},ut.prototype.cov=function(t){return void 0===t&&(t=0),J.cov(this,t)},ut.prototype.normalize=function(){return J.normalize(this)},ut.prototype.corrcoef=function(){return J.corrcoef(this)},ut.prototype.fft=function(){return ot.fft(this)},ut.prototype.ifft=function(){return ot.ifft(this)},ut.prototype.powerfft=function(){return ot.powerfft(this)},ut.prototype.dct=function(){return ot.dct(this)},ut.prototype.idct=function(){return ot.idct(this)},ut.prototype.fft2=function(){return ot.fft2(this)},ut.prototype.ifft2=function(){return ot.ifft2(this)},ut.prototype.dct2=function(){return ot.dct2(this)},ut.prototype.idct2=function(){return ot.idct2(this)},ut.prototype.conv=function(t){return ot.conv(this,t)},ut.prototype.xcorr=function(t){return ot.xcorr(this,t)},ut.window=function(t,e,n){return ot.window(t,e,n)},ut.hann=function(t,e){return ot.hann(t,e)},ut.hamming=function(t,e){return ot.hamming(t,e)},Object.defineProperties(ut.prototype,st);var lt=function(){},ht={File:{configurable:!0},format:{configurable:!0},Log:{configurable:!0},BigInteger:{configurable:!0},BigDecimal:{configurable:!0},RoundingMode:{configurable:!0},MathContext:{configurable:!0},Complex:{configurable:!0},Matrix:{configurable:!0},Random:{configurable:!0}};return ht.File.get=function(){return o},ht.format.get=function(){return t.format},ht.Log.get=function(){return f},ht.BigInteger.get=function(){return O},ht.BigDecimal.get=function(){return P},ht.RoundingMode.get=function(){return E},ht.MathContext.get=function(){return I},ht.Complex.get=function(){return U},ht.Matrix.get=function(){return ut},ht.Random.get=function(){return v},Object.defineProperties(lt,ht),lt});
